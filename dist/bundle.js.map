{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e647568f07a84440c831","webpack:///./node_modules/lodash-es/isArray.js","webpack:///./node_modules/lodash-es/forEach.js","webpack:///./node_modules/lodash-es/_castPath.js","webpack:///./node_modules/lodash-es/isArrayLike.js","webpack:///./node_modules/lodash-es/isObject.js","webpack:///./node_modules/lodash-es/_nativeKeys.js","webpack:///./node_modules/lodash-es/_assignValue.js","webpack:///./node_modules/lodash-es/identity.js","webpack:///./lib/ns.js","webpack:///./node_modules/lodash-es/_objectToString.js","webpack:///./node_modules/lodash-es/isLength.js","webpack:///./node_modules/lodash-es/assign.js","webpack:///./node_modules/lodash-es/_baseAssignValue.js","webpack:///./node_modules/lodash-es/_isIndex.js","webpack:///./lib/index.js","webpack:///./lib/moddle.js","webpack:///./node_modules/lodash-es/find.js","webpack:///./node_modules/lodash-es/_createFind.js","webpack:///./node_modules/lodash-es/isFunction.js","webpack:///./node_modules/lodash-es/_overArg.js","webpack:///./node_modules/lodash-es/findIndex.js","webpack:///./node_modules/lodash-es/_baseFindIndex.js","webpack:///./node_modules/lodash-es/_arrayEach.js","webpack:///./node_modules/lodash-es/_baseEach.js","webpack:///./node_modules/lodash-es/_baseForOwn.js","webpack:///./node_modules/lodash-es/_baseFor.js","webpack:///./node_modules/lodash-es/_createBaseFor.js","webpack:///./node_modules/lodash-es/_createBaseEach.js","webpack:///./node_modules/lodash-es/isString.js","webpack:///./node_modules/lodash-es/isObjectLike.js","webpack:///./lib/factory.js","webpack:///./lib/base.js","webpack:///./lib/registry.js","webpack:///./node_modules/lodash-es/_defineProperty.js","webpack:///./node_modules/lodash-es/_getValue.js","webpack:///./node_modules/lodash-es/eq.js","webpack:///./node_modules/lodash-es/_copyObject.js","webpack:///./node_modules/lodash-es/_createAssigner.js","webpack:///./node_modules/lodash-es/_baseRest.js","webpack:///./node_modules/lodash-es/_overRest.js","webpack:///./node_modules/lodash-es/_apply.js","webpack:///./node_modules/lodash-es/stubFalse.js","webpack:///./lib/descriptor-builder.js","webpack:///./node_modules/lodash-es/pick.js","webpack:///./node_modules/lodash-es/_basePick.js","webpack:///./node_modules/lodash-es/_basePickBy.js","webpack:///./node_modules/lodash-es/_baseGet.js","webpack:///./node_modules/lodash-es/_isKey.js","webpack:///./node_modules/lodash-es/_stringToPath.js","webpack:///./node_modules/lodash-es/_baseSet.js","webpack:///./node_modules/lodash-es/hasIn.js","webpack:///./node_modules/lodash-es/_baseHasIn.js","webpack:///./node_modules/lodash-es/_hasPath.js","webpack:///./lib/types.js","webpack:///./lib/properties.js"],"names":["isArray","Array","forEach","collection","iteratee","func","castPath","value","object","isArrayLike","length","isObject","type","nativeKeys","Object","keys","objectProto","prototype","hasOwnProperty","assignValue","key","objValue","call","undefined","identity","parseName","name","defaultPrefix","parts","split","localName","prefix","Error","nativeObjectToString","toString","objectToString","MAX_SAFE_INTEGER","isLength","assign","source","baseAssignValue","reIsUint","isIndex","test","default","Moddle","packages","properties","factory","registry","typeCache","descriptor","attrs","Type","getType","cache","ns","getEffectiveDescriptor","createType","nsUri","nameNs","element","$type","isGeneric","uri","defineDescriptor","defineModel","define","enumerable","writable","a","uriOrPrefix","getPackage","getPackages","$descriptor","$model","getElementDescriptor","allTypes","t","property","propertiesByName","typeMap","find","createFind","findIndexFunc","predicate","fromIndex","iterable","index","asyncTag","funcTag","genTag","proxyTag","isFunction","tag","overArg","transform","arg","nativeMax","Math","max","findIndex","array","baseFindIndex","fromRight","arrayEach","baseEach","baseForOwn","baseFor","createBaseFor","keysFunc","props","createBaseEach","eachFunc","stringTag","isString","isObjectLike","Factory","model","ModdleElement","val","set","proto","p","isMany","hasType","$instanceOf","Base","get","Registry","packageMap","registerPackage","bind","pkg","types","registerType","push","superClass","slice","extends","meta","propertyNs","propertyName","extendsName","extended","traits","definePackage","nsName","iterator","trait","traverseTrait","cls","traverseSuper","parentNs","mapTypes","builder","addTrait","build","$pkg","target","defineProperty","e","getValue","eq","other","copyObject","customizer","isNew","newValue","createAssigner","assigner","sources","guard","baseRest","start","overRest","args","arguments","otherArgs","apply","thisArg","stubFalse","DescriptorBuilder","idx","validate","addNamedProperty","splice","oldProperty","newProperty","replace","oldNameNs","rename","isId","setIdProperty","isBody","setBodyProperty","indexOf","addProperty","targetPropertyName","nsPrefix","attrName","redefinedProperty","replaceProperty","redefines","propsByName","assertNotDefined","bodyProperty","idProperty","definedProperty","definedBy","inherited","replaces","redefineProperty","pick","paths","basePick","path","basePickBy","result","baseGet","reIsDeepProp","reIsPlainProp","isKey","reLeadingDot","rePropName","reEscapeChar","stringToPath","string","match","number","quote","baseSet","lastIndex","nested","hasIn","baseHasIn","hasPath","hasFunc","coerceType","isBuiltIn","isSimple","BUILTINS","String","Boolean","Integer","Real","Element","TYPE_CONVERTERS","s","parseInt","parseFloat","converter","Properties","getPropertyDescriptor","isUndefined","$attrs","options","isReference","configurable"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;AC7DA;;;;;;;;;;;;;;;;;;;;;;;AAuBA,IAAIA,UAAUC,MAAMD,OAApB;;kBAEeA,O;;;;;;;;;;;;;;ACzBf;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,SAASE,OAAT,CAAiBC,UAAjB,EAA6BC,QAA7B,EAAuC;AACrC,MAAIC,OAAO,uBAAQF,UAAR,4CAAX;AACA,SAAOE,KAAKF,UAAL,EAAiB,4BAAaC,QAAb,CAAjB,CAAP;AACD;;kBAEcF,O;;;;;;;;;;;;;;ACxCf;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;;;;;;AAQA,SAASI,QAAT,CAAkBC,KAAlB,EAAyBC,MAAzB,EAAiC;AAC/B,MAAI,uBAAQD,KAAR,CAAJ,EAAoB;AAClB,WAAOA,KAAP;AACD;AACD,SAAO,qBAAMA,KAAN,EAAaC,MAAb,IAAuB,CAACD,KAAD,CAAvB,GAAiC,4BAAa,wBAASA,KAAT,CAAb,CAAxC;AACD;;kBAEcD,Q;;;;;;;;;;;;;;ACpBf;;;;AACA;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,SAASG,WAAT,CAAqBF,KAArB,EAA4B;AAC1B,SAAOA,SAAS,IAAT,IAAiB,wBAASA,MAAMG,MAAf,CAAjB,IAA2C,CAAC,0BAAWH,KAAX,CAAnD;AACD;;kBAEcE,W;;;;;;;;;;;;;;;;AChCf;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,SAASE,QAAT,CAAkBJ,KAAlB,EAAyB;AACvB,MAAIK,cAAcL,KAAd,yCAAcA,KAAd,CAAJ;AACA,SAAOA,SAAS,IAAT,KAAkBK,QAAQ,QAAR,IAAoBA,QAAQ,UAA9C,CAAP;AACD;;kBAEcD,Q;;;;;;;;;;;;;;AC9Bf;;;;;;AAEA;AACA,IAAIE,aAAa,uBAAQC,OAAOC,IAAf,EAAqBD,MAArB,CAAjB;;kBAEeD,U;;;;;;;;;;;;;;ACLf;;;;AACA;;;;;;AAEA;AACA,IAAIG,cAAcF,OAAOG,SAAzB;;AAEA;AACA,IAAIC,iBAAiBF,YAAYE,cAAjC;;AAEA;;;;;;;;;;AAUA,SAASC,WAAT,CAAqBX,MAArB,EAA6BY,GAA7B,EAAkCb,KAAlC,EAAyC;AACvC,MAAIc,WAAWb,OAAOY,GAAP,CAAf;AACA,MAAI,EAAEF,eAAeI,IAAf,CAAoBd,MAApB,EAA4BY,GAA5B,KAAoC,kBAAGC,QAAH,EAAad,KAAb,CAAtC,KACCA,UAAUgB,SAAV,IAAuB,EAAEH,OAAOZ,MAAT,CAD5B,EAC+C;AAC7C,mCAAgBA,MAAhB,EAAwBY,GAAxB,EAA6Bb,KAA7B;AACD;AACF;;kBAEcY,W;;;;;;;;;;;;;AC3Bf;;;;;;;;;;;;;;;;AAgBA,SAASK,QAAT,CAAkBjB,KAAlB,EAAyB;AACvB,SAAOA,KAAP;AACD;;kBAEciB,Q;;;;;;;;;;;;;QCXCC,S,GAAAA,S;AAThB;;;;;;;;;AASO,SAASA,SAAT,CAAmBC,IAAnB,EAAyBC,aAAzB,EAAwC;AAC7C,MAAIC,QAAQF,KAAKG,KAAL,CAAW,GAAX,CAAZ;AAAA,MACIC,SADJ;AAAA,MACeC,MADf;;AAGA;AACA,MAAIH,MAAMlB,MAAN,KAAiB,CAArB,EAAwB;AACtBoB,gBAAYJ,IAAZ;AACAK,aAASJ,aAAT;AACD,GAHD;AAIA;AACA,QAAIC,MAAMlB,MAAN,KAAiB,CAArB,EAAwB;AACtBoB,kBAAYF,MAAM,CAAN,CAAZ;AACAG,eAASH,MAAM,CAAN,CAAT;AACD,KAHD,MAGO;AACL,YAAM,IAAII,KAAJ,CAAU,qDAAqDN,IAA/D,CAAN;AACD;;AAEDA,SAAO,CAACK,SAASA,SAAS,GAAlB,GAAwB,EAAzB,IAA+BD,SAAtC;;AAEA,SAAO;AACLJ,UAAMA,IADD;AAELK,YAAQA,MAFH;AAGLD,eAAWA;AAHN,GAAP;AAKD,C;;;;;;;;;;;;ADjCD;;;;;;;;;;;;;;;;AAgBA,SAASN,QAAT,CAAkBjB,KAAlB,EAAyB;AACvB,SAAOA,KAAP;AACD;;kBAEciB,Q;;;;;;;;;;;;;AEpBf;AACA,IAAIR,cAAcF,OAAOG,SAAzB;;AAEA;;;;;AAKA,IAAIgB,uBAAuBjB,YAAYkB,QAAvC;;AAEA;;;;;;;AAOA,SAASC,cAAT,CAAwB5B,KAAxB,EAA+B;AAC7B,SAAO0B,qBAAqBX,IAArB,CAA0Bf,KAA1B,CAAP;AACD;;kBAEc4B,c;;;;;;;;;;;;;ACrBf;AACA,IAAIC,mBAAmB,gBAAvB;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,SAASC,QAAT,CAAkB9B,KAAlB,EAAyB;AACvB,SAAO,OAAOA,KAAP,IAAgB,QAAhB,IACLA,QAAQ,CAAC,CADJ,IACSA,QAAQ,CAAR,IAAa,CADtB,IAC2BA,SAAS6B,gBAD3C;AAED;;kBAEcC,Q;;;;;;;;;;;;;;AClCf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;AACA,IAAIrB,cAAcF,OAAOG,SAAzB;;AAEA;AACA,IAAIC,iBAAiBF,YAAYE,cAAjC;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,IAAIoB,SAAS,8BAAe,UAAS9B,MAAT,EAAiB+B,MAAjB,EAAyB;AACnD,MAAI,2BAAYA,MAAZ,KAAuB,2BAAYA,MAAZ,CAA3B,EAAgD;AAC9C,8BAAWA,MAAX,EAAmB,oBAAKA,MAAL,CAAnB,EAAiC/B,MAAjC;AACA;AACD;AACD,OAAK,IAAIY,GAAT,IAAgBmB,MAAhB,EAAwB;AACtB,QAAIrB,eAAeI,IAAf,CAAoBiB,MAApB,EAA4BnB,GAA5B,CAAJ,EAAsC;AACpC,iCAAYZ,MAAZ,EAAoBY,GAApB,EAAyBmB,OAAOnB,GAAP,CAAzB;AACD;AACF;AACF,CAVY,CAAb;;kBAYekB,M;;;;;;;;;;;;;;ACzDf;;;;;;AAEA;;;;;;;;;AASA,SAASE,eAAT,CAAyBhC,MAAzB,EAAiCY,GAAjC,EAAsCb,KAAtC,EAA6C;AAC3C,MAAIa,OAAO,WAAP,4BAAJ,EAA0C;AACxC,kCAAeZ,MAAf,EAAuBY,GAAvB,EAA4B;AAC1B,sBAAgB,IADU;AAE1B,oBAAc,IAFY;AAG1B,eAASb,KAHiB;AAI1B,kBAAY;AAJc,KAA5B;AAMD,GAPD,MAOO;AACLC,WAAOY,GAAP,IAAcb,KAAd;AACD;AACF;;kBAEciC,e;;;;;;;;;;;;;ACxBf;AACA,IAAIJ,mBAAmB,gBAAvB;;AAEA;AACA,IAAIK,WAAW,kBAAf;;AAEA;;;;;;;;AAQA,SAASC,OAAT,CAAiBnC,KAAjB,EAAwBG,MAAxB,EAAgC;AAC9BA,WAASA,UAAU,IAAV,GAAiB0B,gBAAjB,GAAoC1B,MAA7C;AACA,SAAO,CAAC,CAACA,MAAF,KACJ,OAAOH,KAAP,IAAgB,QAAhB,IAA4BkC,SAASE,IAAT,CAAcpC,KAAd,CADxB,KAEJA,QAAQ,CAAC,CAAT,IAAcA,QAAQ,CAAR,IAAa,CAA3B,IAAgCA,QAAQG,MAF3C;AAGD;;kBAEcgC,O;;;;;;;;;;;;;;;;;;;2CCrBNE,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACOT;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAGA;;;;;;;;;;;;;;;;;;;;;IAqBqBC,M;AAEnB,kBAAYC,QAAZ,EAAsB;AAAA;;AAEpB,SAAKC,UAAL,GAAkB,yBAAe,IAAf,CAAlB;;AAEA,SAAKC,OAAL,GAAe,sBAAY,IAAZ,EAAkB,KAAKD,UAAvB,CAAf;AACA,SAAKE,QAAL,GAAgB,uBAAaH,QAAb,EAAuB,KAAKC,UAA5B,CAAhB;;AAEA,SAAKG,SAAL,GAAiB,EAAjB;AACD;;AAGD;;;;;;;;;;;;;;;;;;2BAcOC,U,EAAYC,K,EAAO;AACxB,UAAIC,OAAO,KAAKC,OAAL,CAAaH,UAAb,CAAX;;AAEA,UAAI,CAACE,IAAL,EAAW;AACT,cAAM,IAAIrB,KAAJ,CAAU,mBAAmBmB,UAAnB,GAAgC,GAA1C,CAAN;AACD;;AAED,aAAO,IAAIE,IAAJ,CAASD,KAAT,CAAP;AACD;;AAGD;;;;;;;;;;;;;;;;4BAaQD,U,EAAY;;AAElB,UAAII,QAAQ,KAAKL,SAAjB;;AAEA,UAAIxB,OAAO,wBAASyB,UAAT,IAAuBA,UAAvB,GAAoCA,WAAWK,EAAX,CAAc9B,IAA7D;;AAEA,UAAId,OAAO2C,MAAM7B,IAAN,CAAX;;AAEA,UAAI,CAACd,IAAL,EAAW;AACTuC,qBAAa,KAAKF,QAAL,CAAcQ,sBAAd,CAAqC/B,IAArC,CAAb;AACAd,eAAO2C,MAAM7B,IAAN,IAAc,KAAKsB,OAAL,CAAaU,UAAb,CAAwBP,UAAxB,CAArB;AACD;;AAED,aAAOvC,IAAP;AACD;;AAGD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BA2BUc,I,EAAMiC,K,EAAOZ,U,EAAY;;AAEjC,UAAIa,SAAS,mBAAYlC,IAAZ,CAAb;;AAEA,UAAImC,UAAU;AACZC,eAAOpC;AADK,OAAd;;AAIA,UAAIyB,aAAa;AACfzB,cAAMA,IADS;AAEfqC,mBAAW,IAFI;AAGfP,YAAI;AACFzB,kBAAQ6B,OAAO7B,MADb;AAEFD,qBAAW8B,OAAO9B,SAFhB;AAGFkC,eAAKL;AAHH;AAHW,OAAjB;;AAUA,WAAKZ,UAAL,CAAgBkB,gBAAhB,CAAiCJ,OAAjC,EAA0CV,UAA1C;AACA,WAAKJ,UAAL,CAAgBmB,WAAhB,CAA4BL,OAA5B,EAAqC,IAArC;AACA,WAAKd,UAAL,CAAgBoB,MAAhB,CAAuBN,OAAvB,EAAgC,SAAhC,EAA2C,EAAEO,YAAY,KAAd,EAAqBC,UAAU,IAA/B,EAA3C;;AAEA,6BAAQtB,UAAR,EAAoB,UAASuB,CAAT,EAAYlD,GAAZ,EAAiB;AACnC,YAAI,wBAASkD,CAAT,KAAeA,EAAE/D,KAAF,KAAYgB,SAA/B,EAA0C;AACxCsC,kBAAQS,EAAE5C,IAAV,IAAkB4C,EAAE/D,KAApB;AACD,SAFD,MAEO;AACLsD,kBAAQzC,GAAR,IAAekD,CAAf;AACD;AACF,OAND;;AAQA,aAAOT,OAAP;AACD;;AAGD;;;;;;;;+BAKWU,W,EAAa;AACtB,aAAO,KAAKtB,QAAL,CAAcuB,UAAd,CAAyBD,WAAzB,CAAP;AACD;;AAED;;;;;;;;kCAKc;AACZ,aAAO,KAAKtB,QAAL,CAAcwB,WAAd,EAAP;AACD;;AAED;;;;;;yCAGqBZ,O,EAAS;AAC5B,aAAOA,QAAQa,WAAf;AACD;;AAED;;;;;;;;;4BAMQb,O,EAASjD,I,EAAM;AACrB,UAAIA,SAASW,SAAb,EAAwB;AACtBX,eAAOiD,OAAP;AACAA,kBAAU,IAAV;AACD;;AAED,UAAIV,aAAaU,QAAQc,MAAR,CAAeC,oBAAf,CAAoCf,OAApC,CAAjB;;AAEA,aAAO,CAAC,CAAC,oBAAKV,WAAW0B,QAAhB,EAA0B,UAASC,CAAT,EAAY;AAC7C,eAAOA,EAAEpD,IAAF,KAAWd,IAAlB;AACD,OAFQ,CAAT;AAGD;;AAED;;;;;;0CAGsBiD,O,EAASkB,Q,EAAU;AACvC,aAAO,KAAKH,oBAAL,CAA0Bf,OAA1B,EAAmCmB,gBAAnC,CAAoDD,QAApD,CAAP;AACD;;AAED;;;;;;sCAGkBnE,I,EAAM;AACtB,aAAO,KAAKqC,QAAL,CAAcgC,OAAd,CAAsBrE,IAAtB,CAAP;AACD;;;;;;kBAzLkBiC,M;;;;;;;;;;;;;;ACnCrB;;;;AACA;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,IAAIqC,OAAO,8CAAX;;kBAEeA,I;;;;;;;;;;;;;;ACzCf;;;;AACA;;;;AACA;;;;;;AAEA;;;;;;;AAOA,SAASC,UAAT,CAAoBC,aAApB,EAAmC;AACjC,SAAO,UAASjF,UAAT,EAAqBkF,SAArB,EAAgCC,SAAhC,EAA2C;AAChD,QAAIC,WAAWzE,OAAOX,UAAP,CAAf;AACA,QAAI,CAAC,2BAAYA,UAAZ,CAAL,EAA8B;AAC5B,UAAIC,WAAW,4BAAaiF,SAAb,EAAwB,CAAxB,CAAf;AACAlF,mBAAa,oBAAKA,UAAL,CAAb;AACAkF,kBAAY,mBAASjE,GAAT,EAAc;AAAE,eAAOhB,SAASmF,SAASnE,GAAT,CAAT,EAAwBA,GAAxB,EAA6BmE,QAA7B,CAAP;AAAgD,OAA5E;AACD;AACD,QAAIC,QAAQJ,cAAcjF,UAAd,EAA0BkF,SAA1B,EAAqCC,SAArC,CAAZ;AACA,WAAOE,QAAQ,CAAC,CAAT,GAAaD,SAASnF,WAAWD,WAAWqF,KAAX,CAAX,GAA+BA,KAAxC,CAAb,GAA8DjE,SAArE;AACD,GATD;AAUD;;kBAEc4D,U;;;;;;;;;;;;;;ACxBf;;;;AACA;;;;;;AAEA;AACA,IAAIM,WAAW,wBAAf;AAAA,IACIC,UAAU,mBADd;AAAA,IAEIC,SAAS,4BAFb;AAAA,IAGIC,WAAW,gBAHf;;AAKA;;;;;;;;;;;;;;;;;AAiBA,SAASC,UAAT,CAAoBtF,KAApB,EAA2B;AACzB,MAAI,CAAC,wBAASA,KAAT,CAAL,EAAsB;AACpB,WAAO,KAAP;AACD;AACD;AACA;AACA,MAAIuF,MAAM,0BAAWvF,KAAX,CAAV;AACA,SAAOuF,OAAOJ,OAAP,IAAkBI,OAAOH,MAAzB,IAAmCG,OAAOL,QAA1C,IAAsDK,OAAOF,QAApE;AACD;;kBAEcC,U;;;;;;;;;;;;;ACpCf;;;;;;;;AAQA,SAASE,OAAT,CAAiB1F,IAAjB,EAAuB2F,SAAvB,EAAkC;AAChC,SAAO,UAASC,GAAT,EAAc;AACnB,WAAO5F,KAAK2F,UAAUC,GAAV,CAAL,CAAP;AACD,GAFD;AAGD;;kBAEcF,O;;;;;;;;;;;;;;ACdf;;;;AACA;;;;AACA;;;;;;AAEA;AACA,IAAIG,YAAYC,KAAKC,GAArB;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,SAASC,SAAT,CAAmBC,KAAnB,EAA0BjB,SAA1B,EAAqCC,SAArC,EAAgD;AAC9C,MAAI5E,SAAS4F,SAAS,IAAT,GAAgB,CAAhB,GAAoBA,MAAM5F,MAAvC;AACA,MAAI,CAACA,MAAL,EAAa;AACX,WAAO,CAAC,CAAR;AACD;AACD,MAAI8E,QAAQF,aAAa,IAAb,GAAoB,CAApB,GAAwB,yBAAUA,SAAV,CAApC;AACA,MAAIE,QAAQ,CAAZ,EAAe;AACbA,YAAQU,UAAUxF,SAAS8E,KAAnB,EAA0B,CAA1B,CAAR;AACD;AACD,SAAO,6BAAcc,KAAd,EAAqB,4BAAajB,SAAb,EAAwB,CAAxB,CAArB,EAAiDG,KAAjD,CAAP;AACD;;kBAEca,S;;;;;;;;;;;;;ACtDf;;;;;;;;;;;AAWA,SAASE,aAAT,CAAuBD,KAAvB,EAA8BjB,SAA9B,EAAyCC,SAAzC,EAAoDkB,SAApD,EAA+D;AAC7D,MAAI9F,SAAS4F,MAAM5F,MAAnB;AAAA,MACI8E,QAAQF,aAAakB,YAAY,CAAZ,GAAgB,CAAC,CAA9B,CADZ;;AAGA,SAAQA,YAAYhB,OAAZ,GAAsB,EAAEA,KAAF,GAAU9E,MAAxC,EAAiD;AAC/C,QAAI2E,UAAUiB,MAAMd,KAAN,CAAV,EAAwBA,KAAxB,EAA+Bc,KAA/B,CAAJ,EAA2C;AACzC,aAAOd,KAAP;AACD;AACF;AACD,SAAO,CAAC,CAAR;AACD;;kBAEce,a;;;;;;;;;;;;;AdvBf;;;;;;;;;;;;;;;;AAgBA,SAAS/E,QAAT,CAAkBjB,KAAlB,EAAyB;AACvB,SAAOA,KAAP;AACD;;kBAEciB,Q;;;;;;;;;;;;;AepBf;;;;;;;;;AASA,SAASiF,SAAT,CAAmBH,KAAnB,EAA0BlG,QAA1B,EAAoC;AAClC,MAAIoF,QAAQ,CAAC,CAAb;AAAA,MACI9E,SAAS4F,SAAS,IAAT,GAAgB,CAAhB,GAAoBA,MAAM5F,MADvC;;AAGA,SAAO,EAAE8E,KAAF,GAAU9E,MAAjB,EAAyB;AACvB,QAAIN,SAASkG,MAAMd,KAAN,CAAT,EAAuBA,KAAvB,EAA8Bc,KAA9B,MAAyC,KAA7C,EAAoD;AAClD;AACD;AACF;AACD,SAAOA,KAAP;AACD;;kBAEcG,S;;;;;;;;;;;;;;ACrBf;;;;AACA;;;;;;AAEA;;;;;;;;AAQA,IAAIC,WAAW,mDAAf;;kBAEeA,Q;;;;;;;;;;;;;;ACbf;;;;AACA;;;;;;AAEA;;;;;;;;AAQA,SAASC,UAAT,CAAoBnG,MAApB,EAA4BJ,QAA5B,EAAsC;AACpC,SAAOI,UAAU,uBAAQA,MAAR,EAAgBJ,QAAhB,iBAAjB;AACD;;kBAEcuG,U;;;;;;;;;;;;;;ACff;;;;;;AAEA;;;;;;;;;;;AAWA,IAAIC,UAAU,8BAAd;;kBAEeA,O;;;;;;;;;;;;;ACff;;;;;;;AAOA,SAASC,aAAT,CAAuBL,SAAvB,EAAkC;AAChC,SAAO,UAAShG,MAAT,EAAiBJ,QAAjB,EAA2B0G,QAA3B,EAAqC;AAC1C,QAAItB,QAAQ,CAAC,CAAb;AAAA,QACID,WAAWzE,OAAON,MAAP,CADf;AAAA,QAEIuG,QAAQD,SAAStG,MAAT,CAFZ;AAAA,QAGIE,SAASqG,MAAMrG,MAHnB;;AAKA,WAAOA,QAAP,EAAiB;AACf,UAAIU,MAAM2F,MAAMP,YAAY9F,MAAZ,GAAqB,EAAE8E,KAA7B,CAAV;AACA,UAAIpF,SAASmF,SAASnE,GAAT,CAAT,EAAwBA,GAAxB,EAA6BmE,QAA7B,MAA2C,KAA/C,EAAsD;AACpD;AACD;AACF;AACD,WAAO/E,MAAP;AACD,GAbD;AAcD;;kBAEcqG,a;;;;;;;;;;;;;;ACxBf;;;;;;AAEA;;;;;;;;AAQA,SAASG,cAAT,CAAwBC,QAAxB,EAAkCT,SAAlC,EAA6C;AAC3C,SAAO,UAASrG,UAAT,EAAqBC,QAArB,EAA+B;AACpC,QAAID,cAAc,IAAlB,EAAwB;AACtB,aAAOA,UAAP;AACD;AACD,QAAI,CAAC,2BAAYA,UAAZ,CAAL,EAA8B;AAC5B,aAAO8G,SAAS9G,UAAT,EAAqBC,QAArB,CAAP;AACD;AACD,QAAIM,SAASP,WAAWO,MAAxB;AAAA,QACI8E,QAAQgB,YAAY9F,MAAZ,GAAqB,CAAC,CADlC;AAAA,QAEI6E,WAAWzE,OAAOX,UAAP,CAFf;;AAIA,WAAQqG,YAAYhB,OAAZ,GAAsB,EAAEA,KAAF,GAAU9E,MAAxC,EAAiD;AAC/C,UAAIN,SAASmF,SAASC,KAAT,CAAT,EAA0BA,KAA1B,EAAiCD,QAAjC,MAA+C,KAAnD,EAA0D;AACxD;AACD;AACF;AACD,WAAOpF,UAAP;AACD,GAjBD;AAkBD;;kBAEc6G,c;;;;;;;;;;;;;ApB/Bf;;;;;;;;;;;;;;;;AAgBA,SAASxF,QAAT,CAAkBjB,KAAlB,EAAyB;AACvB,SAAOA,KAAP;AACD;;kBAEciB,Q;;;;;;;;;;;;;;AqBpBf;;;;AACA;;;;AACA;;;;;;AAEA;AACA,IAAI0F,YAAY,iBAAhB;;AAEA;;;;;;;;;;;;;;;;;AAiBA,SAASC,QAAT,CAAkB5G,KAAlB,EAAyB;AACvB,SAAO,OAAOA,KAAP,IAAgB,QAAhB,IACJ,CAAC,uBAAQA,KAAR,CAAD,IAAmB,4BAAaA,KAAb,CAAnB,IAA0C,0BAAWA,KAAX,KAAqB2G,SADlE;AAED;;kBAEcC,Q;;;;;;;;;;;;;;;;AC7Bf;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,SAASC,YAAT,CAAsB7G,KAAtB,EAA6B;AAC3B,SAAOA,SAAS,IAAT,IAAiB,QAAOA,KAAP,yCAAOA,KAAP,MAAgB,QAAxC;AACD;;kBAEc6G,Y;;;;;;;;;;;;;;;;;;;;ACxBf;;;;;;;;;;;;IAGqBC,O;AAEnB,mBAAYC,KAAZ,EAAmBvE,UAAnB,EAA+B;AAAA;;AAC7B,SAAKuE,KAAL,GAAaA,KAAb;AACA,SAAKvE,UAAL,GAAkBA,UAAlB;AACD;;AAED;;;;;;;;;;;+BAOWI,U,EAAY;;AAErB,UAAImE,QAAQ,KAAKA,KAAjB;AAAA,UACIP,QAAQ,KAAKhE,UADjB;;AAGA,UAAIrB,OAAOyB,WAAWK,EAAX,CAAc9B,IAAzB;;AAEA;;;;AAPqB,UAUf6F,aAVe;AAAA;;AAYnB,+BAAYnE,KAAZ,EAAmB;AAAA;;AAAA;;AAGjB2D,gBAAM5C,MAAN,QAAmB,OAAnB,EAA4B,EAAE5D,OAAOmB,IAAT,EAAe0C,YAAY,IAA3B,EAA5B;AACA2C,gBAAM5C,MAAN,QAAmB,QAAnB,EAA6B,EAAE5D,OAAO,EAAT,EAA7B;AACAwG,gBAAM5C,MAAN,QAAmB,SAAnB,EAA8B,EAAEE,UAAU,IAAZ,EAA9B;;AAEA,iCAAQjB,KAAR,EAAe,UAACoE,GAAD,EAAMpG,GAAN,EAAc;AAC3B,kBAAKqG,GAAL,CAASrG,GAAT,EAAcoG,GAAd;AACD,WAFD;AAPiB;AAUlB;;AAtBkB;AAAA;;AA0BrB,UAAIE,QAAQH,cAActG,SAA1B;;AAEA;AACA,6BAAQkC,WAAWJ,UAAnB,EAA+B,UAAS4E,CAAT,EAAY;AACzC,YAAI,CAACA,EAAEC,MAAH,IAAaD,EAAE/E,OAAF,KAAcrB,SAA/B,EAA0C;AACxCmG,gBAAMC,EAAEjG,IAAR,IAAgBiG,EAAE/E,OAAlB;AACD;AACF,OAJD;;AAMAmE,YAAM7C,WAAN,CAAkBwD,KAAlB,EAAyBJ,KAAzB;AACAP,YAAM9C,gBAAN,CAAuByD,KAAvB,EAA8BvE,UAA9B;;AAEAoE,oBAAcM,OAAd,GAAwBH,MAAMI,WAAN,GAAoB,KAAKR,KAAL,CAAWO,OAAvD;;AAEA;AACAd,YAAM7C,WAAN,CAAkBqD,aAAlB,EAAiCD,KAAjC;AACAP,YAAM9C,gBAAN,CAAuBsD,aAAvB,EAAsCpE,UAAtC;;AAEA,aAAOoE,aAAP;AACD;;;;;;kBA3DkBF,O;;;;;;;;;;;;;;;;;;ICNAU,I;;;;;;;wBAEfrG,I,EAAM;AACR,aAAO,KAAKiD,MAAL,CAAY5B,UAAZ,CAAuBiF,GAAvB,CAA2B,IAA3B,EAAiCtG,IAAjC,CAAP;AACD;;;wBAEGA,I,EAAMnB,K,EAAO;AACf,WAAKoE,MAAL,CAAY5B,UAAZ,CAAuB0E,GAAvB,CAA2B,IAA3B,EAAiC/F,IAAjC,EAAuCnB,KAAvC;AACD;;;;;;kBARkBwH,I;;;;;;;;;;;;;;;;;;;;;;;;ACIrB;;;;AAEA;;AACA;;;;;;IAGqBE,Q;AAEnB,oBAAYnF,QAAZ,EAAsBC,UAAtB,EAAkC;AAAA;;AAChC,SAAKmF,UAAL,GAAkB,EAAlB;AACA,SAAKjD,OAAL,GAAe,EAAf;;AAEA,SAAKnC,QAAL,GAAgB,EAAhB;;AAEA,SAAKC,UAAL,GAAkBA,UAAlB;;AAEA,2BAAQD,QAAR,EAAkB,KAAKqF,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAlB;AACD;;;;+BAEU7D,W,EAAa;AACtB,aAAO,KAAK2D,UAAL,CAAgB3D,WAAhB,CAAP;AACD;;;kCAEa;AACZ,aAAO,KAAKzB,QAAZ;AACD;;;oCAEeuF,G,EAAK;AAAA;;AAEnB;AACAA,YAAM,sBAAO,EAAP,EAAWA,GAAX,CAAN;;AAEA;AACA,6BAAQA,IAAIC,KAAZ,EAAmB,UAACnF,UAAD,EAAgB;AACjC,cAAKoF,YAAL,CAAkBpF,UAAlB,EAA8BkF,GAA9B;AACD,OAFD;;AAIA,WAAKH,UAAL,CAAgBG,IAAIrE,GAApB,IAA2B,KAAKkE,UAAL,CAAgBG,IAAItG,MAApB,IAA8BsG,GAAzD;AACA,WAAKvF,QAAL,CAAc0F,IAAd,CAAmBH,GAAnB;AACD;;AAED;;;;;;iCAGazH,I,EAAMyH,G,EAAK;AAAA;;AAEtBzH,aAAO,sBAAO,EAAP,EAAWA,IAAX,EAAiB;AACtB6H,oBAAY,CAAC7H,KAAK6H,UAAL,IAAmB,EAApB,EAAwBC,KAAxB,EADU;AAEtBC,iBAAS,CAAC/H,KAAK+H,OAAL,IAAgB,EAAjB,EAAqBD,KAArB,EAFa;AAGtB3F,oBAAY,CAACnC,KAAKmC,UAAL,IAAmB,EAApB,EAAwB2F,KAAxB,EAHU;AAItBE,cAAM,uBAAQ,IAAIhI,KAAKgI,IAAL,IAAa,EAAzB;AAJgB,OAAjB,CAAP;;AAOA,UAAIpF,KAAK,mBAAY5C,KAAKc,IAAjB,EAAuB2G,IAAItG,MAA3B,CAAT;AAAA,UACIL,OAAO8B,GAAG9B,IADd;AAAA,UAEIsD,mBAAmB,EAFvB;;AAIA;AACA,6BAAQpE,KAAKmC,UAAb,EAAyB,UAAS4E,CAAT,EAAY;;AAEnC;AACA,YAAIkB,aAAa,mBAAYlB,EAAEjG,IAAd,EAAoB8B,GAAGzB,MAAvB,CAAjB;AAAA,YACI+G,eAAeD,WAAWnH,IAD9B;;AAGA;AACA,YAAI,CAAC,sBAAciG,EAAE/G,IAAhB,CAAL,EAA4B;AAC1B+G,YAAE/G,IAAF,GAAS,mBAAY+G,EAAE/G,IAAd,EAAoBiI,WAAW9G,MAA/B,EAAuCL,IAAhD;AACD;;AAED,8BAAOiG,CAAP,EAAU;AACRnE,cAAIqF,UADI;AAERnH,gBAAMoH;AAFE,SAAV;;AAKA9D,yBAAiB8D,YAAjB,IAAiCnB,CAAjC;AACD,OAjBD;;AAmBA;AACA,4BAAO/G,IAAP,EAAa;AACX4C,YAAIA,EADO;AAEX9B,cAAMA,IAFK;AAGXsD,0BAAkBA;AAHP,OAAb;;AAMA,6BAAQpE,KAAK+H,OAAb,EAAsB,UAACI,WAAD,EAAiB;AACrC,YAAIC,WAAW,OAAK/D,OAAL,CAAa8D,WAAb,CAAf;;AAEAC,iBAASC,MAAT,GAAkBD,SAASC,MAAT,IAAmB,EAArC;AACAD,iBAASC,MAAT,CAAgBT,IAAhB,CAAqB9G,IAArB;AACD,OALD;;AAOA;AACA,WAAKwH,aAAL,CAAmBtI,IAAnB,EAAyByH,GAAzB;;AAEA;AACA,WAAKpD,OAAL,CAAavD,IAAb,IAAqBd,IAArB;AACD;;AAGD;;;;;;;;;;;;6BASSuI,M,EAAQC,Q,EAAUC,K,EAAO;AAAA;;AAEhC,UAAIzI,OAAO,sBAAcuI,OAAOzH,IAArB,IAA6B,EAAEA,MAAMyH,OAAOzH,IAAf,EAA7B,GAAqD,KAAKuD,OAAL,CAAakE,OAAOzH,IAApB,CAAhE;;AAEA;;;;;AAKA,UAAI4H,gBAAgB,SAAhBA,aAAgB,CAACC,GAAD,EAAS;AAC3B,eAAOC,cAAcD,GAAd,EAAmB,IAAnB,CAAP;AACD,OAFD;;AAIA;;;;;;AAMA,UAAIC,gBAAgB,SAAhBA,aAAgB,CAACD,GAAD,EAAMF,KAAN,EAAgB;AAClC,YAAII,WAAW,mBAAYF,GAAZ,EAAiB,sBAAcA,GAAd,IAAqB,EAArB,GAA0BJ,OAAOpH,MAAlD,CAAf;;AAEA,eAAK2H,QAAL,CAAcD,QAAd,EAAwBL,QAAxB,EAAkCC,KAAlC;AACD,OAJD;;AAMA,UAAI,CAACzI,IAAL,EAAW;AACT,cAAM,IAAIoB,KAAJ,CAAU,mBAAmBmH,OAAOzH,IAA1B,GAAiC,GAA3C,CAAN;AACD;;AAED,6BAAQd,KAAK6H,UAAb,EAAyBY,QAAQC,aAAR,GAAwBE,aAAjD;;AAEA;AACAJ,eAASxI,IAAT,EAAe,CAACyI,KAAhB;;AAEA,6BAAQzI,KAAKqI,MAAb,EAAqBK,aAArB;AACD;;AAGD;;;;;;;;;;2CAOuB5H,I,EAAM;;AAE3B,UAAIyH,SAAS,mBAAYzH,IAAZ,CAAb;;AAEA,UAAIiI,UAAU,gCAAsBR,MAAtB,CAAd;;AAEA,WAAKO,QAAL,CAAcP,MAAd,EAAsBQ,QAAQC,QAAR,CAAiBxB,IAAjB,CAAsBuB,OAAtB,CAAtB;;AAEA,UAAIxG,aAAawG,QAAQE,KAAR,EAAjB;;AAEA;AACA,WAAKX,aAAL,CAAmB/F,UAAnB,EAA+BA,WAAW0B,QAAX,CAAoB1B,WAAW0B,QAAX,CAAoBnE,MAApB,GAA6B,CAAjD,EAAoDoJ,IAAnF;;AAEA,aAAO3G,UAAP;AACD;;;kCAGa4G,M,EAAQ1B,G,EAAK;AACzB,WAAKtF,UAAL,CAAgBoB,MAAhB,CAAuB4F,MAAvB,EAA+B,MAA/B,EAAuC,EAAExJ,OAAO8H,GAAT,EAAvC;AACD;;;;;;kBAtKkBJ,Q;;;;;;;;;;;;;;ACXrB;;;;;;AAEA,IAAI+B,iBAAkB,YAAW;AAC/B,MAAI;AACF,QAAI3J,OAAO,yBAAUS,MAAV,EAAkB,gBAAlB,CAAX;AACAT,SAAK,EAAL,EAAS,EAAT,EAAa,EAAb;AACA,WAAOA,IAAP;AACD,GAJD,CAIE,OAAO4J,CAAP,EAAU,CAAE;AACf,CANqB,EAAtB;;kBAQeD,c;;;;;;;;;;;;;ACVf;;;;;;;;AAQA,SAASE,QAAT,CAAkB1J,MAAlB,EAA0BY,GAA1B,EAA+B;AAC7B,SAAOZ,UAAU,IAAV,GAAiBe,SAAjB,GAA6Bf,OAAOY,GAAP,CAApC;AACD;;kBAEc8I,Q;;;;;;;;;;;;;ACZf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,SAASC,EAAT,CAAY5J,KAAZ,EAAmB6J,KAAnB,EAA0B;AACxB,SAAO7J,UAAU6J,KAAV,IAAoB7J,UAAUA,KAAV,IAAmB6J,UAAUA,KAAxD;AACD;;kBAEcD,E;;;;;;;;;;;;;;ACpCf;;;;AACA;;;;;;AAEA;;;;;;;;;;AAUA,SAASE,UAAT,CAAoB9H,MAApB,EAA4BwE,KAA5B,EAAmCvG,MAAnC,EAA2C8J,UAA3C,EAAuD;AACrD,MAAIC,QAAQ,CAAC/J,MAAb;AACAA,aAAWA,SAAS,EAApB;;AAEA,MAAIgF,QAAQ,CAAC,CAAb;AAAA,MACI9E,SAASqG,MAAMrG,MADnB;;AAGA,SAAO,EAAE8E,KAAF,GAAU9E,MAAjB,EAAyB;AACvB,QAAIU,MAAM2F,MAAMvB,KAAN,CAAV;;AAEA,QAAIgF,WAAWF,aACXA,WAAW9J,OAAOY,GAAP,CAAX,EAAwBmB,OAAOnB,GAAP,CAAxB,EAAqCA,GAArC,EAA0CZ,MAA1C,EAAkD+B,MAAlD,CADW,GAEXhB,SAFJ;;AAIA,QAAIiJ,aAAajJ,SAAjB,EAA4B;AAC1BiJ,iBAAWjI,OAAOnB,GAAP,CAAX;AACD;AACD,QAAImJ,KAAJ,EAAW;AACT,qCAAgB/J,MAAhB,EAAwBY,GAAxB,EAA6BoJ,QAA7B;AACD,KAFD,MAEO;AACL,iCAAYhK,MAAZ,EAAoBY,GAApB,EAAyBoJ,QAAzB;AACD;AACF;AACD,SAAOhK,MAAP;AACD;;kBAEc6J,U;;;;;;;;;;;;;;ACvCf;;;;AACA;;;;;;AAEA;;;;;;;AAOA,SAASI,cAAT,CAAwBC,QAAxB,EAAkC;AAChC,SAAO,wBAAS,UAASlK,MAAT,EAAiBmK,OAAjB,EAA0B;AACxC,QAAInF,QAAQ,CAAC,CAAb;AAAA,QACI9E,SAASiK,QAAQjK,MADrB;AAAA,QAEI4J,aAAa5J,SAAS,CAAT,GAAaiK,QAAQjK,SAAS,CAAjB,CAAb,GAAmCa,SAFpD;AAAA,QAGIqJ,QAAQlK,SAAS,CAAT,GAAaiK,QAAQ,CAAR,CAAb,GAA0BpJ,SAHtC;;AAKA+I,iBAAcI,SAAShK,MAAT,GAAkB,CAAlB,IAAuB,OAAO4J,UAAP,IAAqB,UAA7C,IACR5J,UAAU4J,UADF,IAET/I,SAFJ;;AAIA,QAAIqJ,SAAS,8BAAeD,QAAQ,CAAR,CAAf,EAA2BA,QAAQ,CAAR,CAA3B,EAAuCC,KAAvC,CAAb,EAA4D;AAC1DN,mBAAa5J,SAAS,CAAT,GAAaa,SAAb,GAAyB+I,UAAtC;AACA5J,eAAS,CAAT;AACD;AACDF,aAASM,OAAON,MAAP,CAAT;AACA,WAAO,EAAEgF,KAAF,GAAU9E,MAAjB,EAAyB;AACvB,UAAI6B,SAASoI,QAAQnF,KAAR,CAAb;AACA,UAAIjD,MAAJ,EAAY;AACVmI,iBAASlK,MAAT,EAAiB+B,MAAjB,EAAyBiD,KAAzB,EAAgC8E,UAAhC;AACD;AACF;AACD,WAAO9J,MAAP;AACD,GAtBM,CAAP;AAuBD;;kBAEciK,c;;;;;;;;;;;;;;ACpCf;;;;AACA;;;;AACA;;;;;;AAEA;;;;;;;;AAQA,SAASI,QAAT,CAAkBxK,IAAlB,EAAwByK,KAAxB,EAA+B;AAC7B,SAAO,2BAAY,wBAASzK,IAAT,EAAeyK,KAAf,qBAAZ,EAA6CzK,OAAO,EAApD,CAAP;AACD;;kBAEcwK,Q;;;;;;;;;;;;;A/BhBf;;;;;;;;;;;;;;;;AAgBA,SAASrJ,QAAT,CAAkBjB,KAAlB,EAAyB;AACvB,SAAOA,KAAP;AACD;;kBAEciB,Q;;;;;;;;;;;;;;AgCpBf;;;;;;AAEA;AACA,IAAI0E,YAAYC,KAAKC,GAArB;;AAEA;;;;;;;;;AASA,SAAS2E,QAAT,CAAkB1K,IAAlB,EAAwByK,KAAxB,EAA+B9E,SAA/B,EAA0C;AACxC8E,UAAQ5E,UAAU4E,UAAUvJ,SAAV,GAAuBlB,KAAKK,MAAL,GAAc,CAArC,GAA0CoK,KAApD,EAA2D,CAA3D,CAAR;AACA,SAAO,YAAW;AAChB,QAAIE,OAAOC,SAAX;AAAA,QACIzF,QAAQ,CAAC,CADb;AAAA,QAEI9E,SAASwF,UAAU8E,KAAKtK,MAAL,GAAcoK,KAAxB,EAA+B,CAA/B,CAFb;AAAA,QAGIxE,QAAQrG,MAAMS,MAAN,CAHZ;;AAKA,WAAO,EAAE8E,KAAF,GAAU9E,MAAjB,EAAyB;AACvB4F,YAAMd,KAAN,IAAewF,KAAKF,QAAQtF,KAAb,CAAf;AACD;AACDA,YAAQ,CAAC,CAAT;AACA,QAAI0F,YAAYjL,MAAM6K,QAAQ,CAAd,CAAhB;AACA,WAAO,EAAEtF,KAAF,GAAUsF,KAAjB,EAAwB;AACtBI,gBAAU1F,KAAV,IAAmBwF,KAAKxF,KAAL,CAAnB;AACD;AACD0F,cAAUJ,KAAV,IAAmB9E,UAAUM,KAAV,CAAnB;AACA,WAAO,qBAAMjG,IAAN,EAAY,IAAZ,EAAkB6K,SAAlB,CAAP;AACD,GAhBD;AAiBD;;kBAEcH,Q;;;;;;;;;;;;;ACnCf;;;;;;;;;;AAUA,SAASI,KAAT,CAAe9K,IAAf,EAAqB+K,OAArB,EAA8BJ,IAA9B,EAAoC;AAClC,UAAQA,KAAKtK,MAAb;AACE,SAAK,CAAL;AAAQ,aAAOL,KAAKiB,IAAL,CAAU8J,OAAV,CAAP;AACR,SAAK,CAAL;AAAQ,aAAO/K,KAAKiB,IAAL,CAAU8J,OAAV,EAAmBJ,KAAK,CAAL,CAAnB,CAAP;AACR,SAAK,CAAL;AAAQ,aAAO3K,KAAKiB,IAAL,CAAU8J,OAAV,EAAmBJ,KAAK,CAAL,CAAnB,EAA4BA,KAAK,CAAL,CAA5B,CAAP;AACR,SAAK,CAAL;AAAQ,aAAO3K,KAAKiB,IAAL,CAAU8J,OAAV,EAAmBJ,KAAK,CAAL,CAAnB,EAA4BA,KAAK,CAAL,CAA5B,EAAqCA,KAAK,CAAL,CAArC,CAAP;AAJV;AAMA,SAAO3K,KAAK8K,KAAL,CAAWC,OAAX,EAAoBJ,IAApB,CAAP;AACD;;kBAEcG,K;;;;;;;;;;;;;AjCpBf;;;;;;;;;;;;;;;;AAgBA,SAAS3J,QAAT,CAAkBjB,KAAlB,EAAyB;AACvB,SAAOA,KAAP;AACD;;kBAEciB,Q;;;;;;;;;;;;;AkCpBf;;;;;;;;;;;;;AAaA,SAAS6J,SAAT,GAAqB;AACnB,SAAO,KAAP;AACD;;kBAEcA,S;;;;;;;;;;;;;AAjBf;;;;;;;;;;;;;AAaA,SAASA,SAAT,GAAqB;AACnB,SAAO,KAAP;AACD;;kBAEcA,S;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXf;;;;;;IAGqBC,iB;AAEnB,6BAAY1H,MAAZ,EAAoB;AAAA;;AAClB,SAAKJ,EAAL,GAAUI,MAAV;AACA,SAAKlC,IAAL,GAAYkC,OAAOlC,IAAnB;AACA,SAAKmD,QAAL,GAAgB,EAAhB;AACA,SAAK9B,UAAL,GAAkB,EAAlB;AACA,SAAKiC,gBAAL,GAAwB,EAAxB;AACD;;;;4BAGO;AACN,aAAO,oBAAK,IAAL,EAAW,CAChB,IADgB,EAEhB,MAFgB,EAGhB,UAHgB,EAIhB,YAJgB,EAKhB,kBALgB,EAMhB,cANgB,EAOhB,YAPgB,CAAX,CAAP;AASD;;AAGD;;;;;;;;;;gCAOY2C,C,EAAG4D,G,EAAKC,Q,EAAU;;AAE5B,UAAI,OAAOD,GAAP,KAAe,SAAnB,EAA8B;AAC5BC,mBAAWD,GAAX;AACAA,cAAMhK,SAAN;AACD;;AAED,WAAKkK,gBAAL,CAAsB9D,CAAtB,EAAyB6D,aAAa,KAAtC;;AAEA,UAAIzI,aAAa,KAAKA,UAAtB;;AAEA,UAAIwI,QAAQhK,SAAZ,EAAuB;AACrBwB,mBAAW2I,MAAX,CAAkBH,GAAlB,EAAuB,CAAvB,EAA0B5D,CAA1B;AACD,OAFD,MAEO;AACL5E,mBAAWyF,IAAX,CAAgBb,CAAhB;AACD;AACF;;;oCAGegE,W,EAAaC,W,EAAaC,O,EAAS;AACjD,UAAIC,YAAYH,YAAYnI,EAA5B;;AAEA,UAAIuD,QAAQ,KAAKhE,UAAjB;AAAA,UACIiC,mBAAmB,KAAKA,gBAD5B;AAAA,UAEI+G,SAASJ,YAAYjK,IAAZ,KAAqBkK,YAAYlK,IAF9C;;AAIA,UAAIiK,YAAYK,IAAhB,EAAsB;AACpB,YAAI,CAACJ,YAAYI,IAAjB,EAAuB;AACrB,gBAAM,IAAIhK,KAAJ,CACJ,eAAe4J,YAAYpI,EAAZ,CAAe9B,IAA9B,GAAqC,wBAArC,GACA,aADA,GACgBiK,YAAYnI,EAAZ,CAAe9B,IAD/B,GACsC,GAFlC,CAAN;AAGD;;AAED,aAAKuK,aAAL,CAAmBL,WAAnB,EAAgC,KAAhC;AACD;;AAED,UAAID,YAAYO,MAAhB,EAAwB;;AAEtB,YAAI,CAACN,YAAYM,MAAjB,EAAyB;AACvB,gBAAM,IAAIlK,KAAJ,CACJ,eAAe4J,YAAYpI,EAAZ,CAAe9B,IAA9B,GAAqC,0BAArC,GACA,aADA,GACgBiK,YAAYnI,EAAZ,CAAe9B,IAD/B,GACsC,GAFlC,CAAN;AAGD;;AAED;AACA,aAAKyK,eAAL,CAAqBP,WAArB,EAAkC,KAAlC;AACD;;AAED;AACA,UAAIL,MAAMxE,MAAMqF,OAAN,CAAcT,WAAd,CAAV;AACA,UAAIJ,QAAQ,CAAC,CAAb,EAAgB;AACd,cAAM,IAAIvJ,KAAJ,CAAU,eAAe8J,UAAUpK,IAAzB,GAAgC,8BAA1C,CAAN;AACD;;AAED;AACAqF,YAAM2E,MAAN,CAAaH,GAAb,EAAkB,CAAlB;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAKc,WAAL,CAAiBT,WAAjB,EAA8BC,UAAUtK,SAAV,GAAsBgK,GAApD,EAAyDQ,MAAzD;;AAEA;AACA/G,uBAAiB8G,UAAUpK,IAA3B,IAAmCsD,iBAAiB8G,UAAUhK,SAA3B,IAAwC8J,WAA3E;AACD;;;qCAGgBjE,C,EAAG2E,kB,EAAoBT,O,EAAS;;AAE/C,UAAIU,WAAW5E,EAAEnE,EAAF,CAAKzB,MAApB;AACA,UAAIH,QAAQ0K,mBAAmBzK,KAAnB,CAAyB,GAAzB,CAAZ;;AAEA,UAAIH,OAAO,mBAAYE,MAAM,CAAN,CAAZ,EAAsB2K,QAAtB,CAAX;AACA,UAAIC,WAAW,mBAAY5K,MAAM,CAAN,CAAZ,EAAsBF,KAAKK,MAA3B,EAAmCL,IAAlD;;AAEA,UAAI+K,oBAAoB,KAAKzH,gBAAL,CAAsBwH,QAAtB,CAAxB;AACA,UAAI,CAACC,iBAAL,EAAwB;AACtB,cAAM,IAAIzK,KAAJ,CAAU,uBAAuBwK,QAAvB,GAAkC,aAA5C,CAAN;AACD,OAFD,MAEO;AACL,aAAKE,eAAL,CAAqBD,iBAArB,EAAwC9E,CAAxC,EAA2CkE,OAA3C;AACD;;AAED,aAAOlE,EAAEgF,SAAT;AACD;;;qCAGgBhF,C,EAAG6D,Q,EAAU;AAC5B,UAAIhI,KAAKmE,EAAEnE,EAAX;AAAA,UACIoJ,cAAc,KAAK5H,gBADvB;;AAGA,UAAIwG,QAAJ,EAAc;AACZ,aAAKqB,gBAAL,CAAsBlF,CAAtB,EAAyBnE,GAAG9B,IAA5B;AACA,aAAKmL,gBAAL,CAAsBlF,CAAtB,EAAyBnE,GAAG1B,SAA5B;AACD;;AAED8K,kBAAYpJ,GAAG9B,IAAf,IAAuBkL,YAAYpJ,GAAG1B,SAAf,IAA4B6F,CAAnD;AACD;;;wCAGmBA,C,EAAG;AACrB,UAAInE,KAAKmE,EAAEnE,EAAX;AAAA,UACIoJ,cAAc,KAAK5H,gBADvB;;AAGA,aAAO4H,YAAYpJ,GAAG9B,IAAf,CAAP;AACA,aAAOkL,YAAYpJ,GAAG1B,SAAf,CAAP;AACD;;;oCAGe6F,C,EAAG6D,Q,EAAU;;AAE3B,UAAIA,YAAY,KAAKsB,YAArB,EAAmC;AACjC,cAAM,IAAI9K,KAAJ,CACJ,0CACA,IADA,GACO,KAAK8K,YAAL,CAAkBtJ,EAAlB,CAAqB9B,IAD5B,GACmC,MADnC,GAC4CiG,EAAEnE,EAAF,CAAK9B,IADjD,GACwD,IAFpD,CAAN;AAGD;;AAED,WAAKoL,YAAL,GAAoBnF,CAApB;AACD;;;kCAGaA,C,EAAG6D,Q,EAAU;;AAEzB,UAAIA,YAAY,KAAKuB,UAArB,EAAiC;AAC/B,cAAM,IAAI/K,KAAJ,CACJ,wCACA,IADA,GACO,KAAK+K,UAAL,CAAgBvJ,EAAhB,CAAmB9B,IAD1B,GACiC,MADjC,GAC0CiG,EAAEnE,EAAF,CAAK9B,IAD/C,GACsD,IAFlD,CAAN;AAGD;;AAED,WAAKqL,UAAL,GAAkBpF,CAAlB;AACD;;;qCAGgBA,C,EAAGjG,I,EAAM;AACxB,UAAIoH,eAAenB,EAAEjG,IAArB;AAAA,UACIsL,kBAAkB,KAAKhI,gBAAL,CAAsB8D,YAAtB,CADtB;;AAGA,UAAIkE,eAAJ,EAAqB;AACnB,cAAM,IAAIhL,KAAJ,CACJ,eAAe8G,YAAf,GAA8B,qBAA9B,GACA,eADA,GACkBkE,gBAAgBC,SAAhB,CAA0BzJ,EAA1B,CAA6B9B,IAD/C,GACsD,GADtD,GAC4DsL,gBAAgBxJ,EAAhB,CAAmB9B,IAD/E,GACsF,OADtF,GAEA,GAFA,GAEMiG,EAAEsF,SAAF,CAAYzJ,EAAZ,CAAe9B,IAFrB,GAE4B,GAF5B,GAEkCiG,EAAEnE,EAAF,CAAK9B,IAFvC,GAE8C,iCAH1C,CAAN;AAID;AACF;;;gCAGWA,I,EAAM;AAChB,aAAO,KAAKsD,gBAAL,CAAsBtD,IAAtB,CAAP;AACD;;;6BAGQoD,C,EAAGoI,S,EAAW;AAAA;;AAErB,UAAIrI,WAAW,KAAKA,QAApB;;AAEA,UAAIA,SAASuH,OAAT,CAAiBtH,CAAjB,MAAwB,CAAC,CAA7B,EAAgC;AAC9B;AACD;;AAED,6BAAQA,EAAE/B,UAAV,EAAsB,UAAC4E,CAAD,EAAO;;AAE3B;AACAA,YAAI,sBAAO,EAAP,EAAWA,CAAX,EAAc;AAChBjG,gBAAMiG,EAAEnE,EAAF,CAAK1B,SADK;AAEhBoL,qBAAWA;AAFK,SAAd,CAAJ;;AAKApM,eAAOkJ,cAAP,CAAsBrC,CAAtB,EAAyB,WAAzB,EAAsC;AACpCpH,iBAAOuE;AAD6B,SAAtC;;AAIA,YAAIqI,WAAWxF,EAAEwF,QAAjB;AAAA,YACIR,YAAYhF,EAAEgF,SADlB;;AAGA;AACA,YAAIQ,YAAYR,SAAhB,EAA2B;AACzB,gBAAKS,gBAAL,CAAsBzF,CAAtB,EAAyBwF,YAAYR,SAArC,EAAgDQ,QAAhD;AACD,SAFD,MAEO;AACL,cAAIxF,EAAEuE,MAAN,EAAc;AACZ,kBAAKC,eAAL,CAAqBxE,CAArB;AACD;AACD,cAAIA,EAAEqE,IAAN,EAAY;AACV,kBAAKC,aAAL,CAAmBtE,CAAnB;AACD;AACD,gBAAK0E,WAAL,CAAiB1E,CAAjB;AACD;AACF,OA3BD;;AA6BA9C,eAAS2D,IAAT,CAAc1D,CAAd;AACD;;;;;;kBA7NkBwG,iB;;;;;;;;;;;;;;ACTrB;;;;AACA;;;;;;AAEA;;;;;;;;;;;;;;;;;AAiBA,IAAI+B,OAAO,wBAAS,UAAS7M,MAAT,EAAiB8M,KAAjB,EAAwB;AAC1C,SAAO9M,UAAU,IAAV,GAAiB,EAAjB,GAAsB,wBAASA,MAAT,EAAiB8M,KAAjB,CAA7B;AACD,CAFU,CAAX;;kBAIeD,I;;;;;;;;;;;;;;ACxBf;;;;AACA;;;;;;AAEA;;;;;;;;;AASA,SAASE,QAAT,CAAkB/M,MAAlB,EAA0B8M,KAA1B,EAAiC;AAC/B,SAAO,0BAAW9M,MAAX,EAAmB8M,KAAnB,EAA0B,UAAS/M,KAAT,EAAgBiN,IAAhB,EAAsB;AACrD,WAAO,qBAAMhN,MAAN,EAAcgN,IAAd,CAAP;AACD,GAFM,CAAP;AAGD;;kBAEcD,Q;;;;;;;;;;;;;;AClBf;;;;AACA;;;;AACA;;;;;;AAEA;;;;;;;;;AASA,SAASE,UAAT,CAAoBjN,MAApB,EAA4B8M,KAA5B,EAAmCjI,SAAnC,EAA8C;AAC5C,MAAIG,QAAQ,CAAC,CAAb;AAAA,MACI9E,SAAS4M,MAAM5M,MADnB;AAAA,MAEIgN,SAAS,EAFb;;AAIA,SAAO,EAAElI,KAAF,GAAU9E,MAAjB,EAAyB;AACvB,QAAI8M,OAAOF,MAAM9H,KAAN,CAAX;AAAA,QACIjF,QAAQ,uBAAQC,MAAR,EAAgBgN,IAAhB,CADZ;;AAGA,QAAInI,UAAU9E,KAAV,EAAiBiN,IAAjB,CAAJ,EAA4B;AAC1B,6BAAQE,MAAR,EAAgB,wBAASF,IAAT,EAAehN,MAAf,CAAhB,EAAwCD,KAAxC;AACD;AACF;AACD,SAAOmN,MAAP;AACD;;kBAEcD,U;;;;;;;;;;;;;;AC7Bf;;;;AACA;;;;;;AAEA;;;;;;;;AAQA,SAASE,OAAT,CAAiBnN,MAAjB,EAAyBgN,IAAzB,EAA+B;AAC7BA,SAAO,wBAASA,IAAT,EAAehN,MAAf,CAAP;;AAEA,MAAIgF,QAAQ,CAAZ;AAAA,MACI9E,SAAS8M,KAAK9M,MADlB;;AAGA,SAAOF,UAAU,IAAV,IAAkBgF,QAAQ9E,MAAjC,EAAyC;AACvCF,aAASA,OAAO,qBAAMgN,KAAKhI,OAAL,CAAN,CAAP,CAAT;AACD;AACD,SAAQA,SAASA,SAAS9E,MAAnB,GAA6BF,MAA7B,GAAsCe,SAA7C;AACD;;kBAEcoM,O;;;;;;;;;;;;;;;;ACvBf;;;;AACA;;;;;;AAEA;AACA,IAAIC,eAAe,kDAAnB;AAAA,IACIC,gBAAgB,OADpB;;AAGA;;;;;;;;AAQA,SAASC,KAAT,CAAevN,KAAf,EAAsBC,MAAtB,EAA8B;AAC5B,MAAI,uBAAQD,KAAR,CAAJ,EAAoB;AAClB,WAAO,KAAP;AACD;AACD,MAAIK,cAAcL,KAAd,yCAAcA,KAAd,CAAJ;AACA,MAAIK,QAAQ,QAAR,IAAoBA,QAAQ,QAA5B,IAAwCA,QAAQ,SAAhD,IACAL,SAAS,IADT,IACiB,wBAASA,KAAT,CADrB,EACsC;AACpC,WAAO,IAAP;AACD;AACD,SAAOsN,cAAclL,IAAd,CAAmBpC,KAAnB,KAA6B,CAACqN,aAAajL,IAAb,CAAkBpC,KAAlB,CAA9B,IACJC,UAAU,IAAV,IAAkBD,SAASO,OAAON,MAAP,CAD9B;AAED;;kBAEcsN,K;;;;;;;;;;;;;AN5Bf;;;;;;;;;;;;;AAaA,SAASzC,SAAT,GAAqB;AACnB,SAAO,KAAP;AACD;;kBAEcA,S;;;;;;;;;;;;;;AOjBf;;;;;;AAEA;AACA,IAAI0C,eAAe,KAAnB;AAAA,IACIC,aAAa,kGADjB;;AAGA;AACA,IAAIC,eAAe,UAAnB;;AAEA;;;;;;;AAOA,IAAIC,eAAe,6BAAc,UAASC,MAAT,EAAiB;AAChD,MAAIT,SAAS,EAAb;AACA,MAAIK,aAAapL,IAAb,CAAkBwL,MAAlB,CAAJ,EAA+B;AAC7BT,WAAOlF,IAAP,CAAY,EAAZ;AACD;AACD2F,SAAOtC,OAAP,CAAemC,UAAf,EAA2B,UAASI,KAAT,EAAgBC,MAAhB,EAAwBC,KAAxB,EAA+BH,MAA/B,EAAuC;AAChET,WAAOlF,IAAP,CAAY8F,QAAQH,OAAOtC,OAAP,CAAeoC,YAAf,EAA6B,IAA7B,CAAR,GAA8CI,UAAUD,KAApE;AACD,GAFD;AAGA,SAAOV,MAAP;AACD,CATkB,CAAnB;;kBAWeQ,Y;;;;;;;;;;;;;AzC3Bf;;;;;;;;;;;;;;;;AAgBA,SAAS1M,QAAT,CAAkBjB,KAAlB,EAAyB;AACvB,SAAOA,KAAP;AACD;;kBAEciB,Q;;;;;;;;;;;;;AApBf;;;;;;;;;;;;;;;;AAgBA,SAASA,QAAT,CAAkBjB,KAAlB,EAAyB;AACvB,SAAOA,KAAP;AACD;;kBAEciB,Q;;;;;;;;;;;;;;A0CpBf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;;;;;;;;AAUA,SAAS+M,OAAT,CAAiB/N,MAAjB,EAAyBgN,IAAzB,EAA+BjN,KAA/B,EAAsC+J,UAAtC,EAAkD;AAChD,MAAI,CAAC,wBAAS9J,MAAT,CAAL,EAAuB;AACrB,WAAOA,MAAP;AACD;AACDgN,SAAO,wBAASA,IAAT,EAAehN,MAAf,CAAP;;AAEA,MAAIgF,QAAQ,CAAC,CAAb;AAAA,MACI9E,SAAS8M,KAAK9M,MADlB;AAAA,MAEI8N,YAAY9N,SAAS,CAFzB;AAAA,MAGI+N,SAASjO,MAHb;;AAKA,SAAOiO,UAAU,IAAV,IAAkB,EAAEjJ,KAAF,GAAU9E,MAAnC,EAA2C;AACzC,QAAIU,MAAM,qBAAMoM,KAAKhI,KAAL,CAAN,CAAV;AAAA,QACIgF,WAAWjK,KADf;;AAGA,QAAIiF,SAASgJ,SAAb,EAAwB;AACtB,UAAInN,WAAWoN,OAAOrN,GAAP,CAAf;AACAoJ,iBAAWF,aAAaA,WAAWjJ,QAAX,EAAqBD,GAArB,EAA0BqN,MAA1B,CAAb,GAAiDlN,SAA5D;AACA,UAAIiJ,aAAajJ,SAAjB,EAA4B;AAC1BiJ,mBAAW,wBAASnJ,QAAT,IACPA,QADO,GAEN,uBAAQmM,KAAKhI,QAAQ,CAAb,CAAR,IAA2B,EAA3B,GAAgC,EAFrC;AAGD;AACF;AACD,+BAAYiJ,MAAZ,EAAoBrN,GAApB,EAAyBoJ,QAAzB;AACAiE,aAASA,OAAOrN,GAAP,CAAT;AACD;AACD,SAAOZ,MAAP;AACD;;kBAEc+N,O;;;;;;;;;;;;;;AC9Cf;;;;AACA;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,SAASG,KAAT,CAAelO,MAAf,EAAuBgN,IAAvB,EAA6B;AAC3B,SAAOhN,UAAU,IAAV,IAAkB,uBAAQA,MAAR,EAAgBgN,IAAhB,sBAAzB;AACD;;kBAEckB,K;;;;;;;;;;;;;ACjCf;;;;;;;;AAQA,SAASC,SAAT,CAAmBnO,MAAnB,EAA2BY,GAA3B,EAAgC;AAC9B,SAAOZ,UAAU,IAAV,IAAkBY,OAAON,OAAON,MAAP,CAAhC;AACD;;kBAEcmO,S;;;;;;;;;;;;;;ACZf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;;;;;;;AASA,SAASC,OAAT,CAAiBpO,MAAjB,EAAyBgN,IAAzB,EAA+BqB,OAA/B,EAAwC;AACtCrB,SAAO,wBAASA,IAAT,EAAehN,MAAf,CAAP;;AAEA,MAAIgF,QAAQ,CAAC,CAAb;AAAA,MACI9E,SAAS8M,KAAK9M,MADlB;AAAA,MAEIgN,SAAS,KAFb;;AAIA,SAAO,EAAElI,KAAF,GAAU9E,MAAjB,EAAyB;AACvB,QAAIU,MAAM,qBAAMoM,KAAKhI,KAAL,CAAN,CAAV;AACA,QAAI,EAAEkI,SAASlN,UAAU,IAAV,IAAkBqO,QAAQrO,MAAR,EAAgBY,GAAhB,CAA7B,CAAJ,EAAwD;AACtD;AACD;AACDZ,aAASA,OAAOY,GAAP,CAAT;AACD;AACD,MAAIsM,UAAU,EAAElI,KAAF,IAAW9E,MAAzB,EAAiC;AAC/B,WAAOgN,MAAP;AACD;AACDhN,WAASF,UAAU,IAAV,GAAiB,CAAjB,GAAqBA,OAAOE,MAArC;AACA,SAAO,CAAC,CAACA,MAAF,IAAY,wBAASA,MAAT,CAAZ,IAAgC,uBAAQU,GAAR,EAAaV,MAAb,CAAhC,KACJ,uBAAQF,MAAR,KAAmB,2BAAYA,MAAZ,CADf,CAAP;AAED;;kBAEcoO,O;;;;;;;;;;;;;AXtCf;;;;;;;;;;;;;AAaA,SAASvD,SAAT,GAAqB;AACnB,SAAO,KAAP;AACD;;kBAEcA,S;;;;;;;;;;;;;AlCjBf;;;;;;;;;;;;;;;;AAgBA,SAAS7J,QAAT,CAAkBjB,KAAlB,EAAyB;AACvB,SAAOA,KAAP;AACD;;kBAEciB,Q;;;;;;;;;;;;;Q8CICsN,U,GAAAA,U;QAcAC,S,GAAAA,S;QAOAC,Q,GAAAA,Q;AA7ChB;;;AAGA,IAAIC,WAAW;AACbC,UAAQ,IADK;AAEbC,WAAS,IAFI;AAGbC,WAAS,IAHI;AAIbC,QAAM,IAJO;AAKbC,WAAS;AALI,CAAf;;AAQA;;;AAGA,IAAIC,kBAAkB;AACpBL,UAAQ,gBAASM,CAAT,EAAY;AAAE,WAAOA,CAAP;AAAW,GADb;AAEpBL,WAAS,iBAASK,CAAT,EAAY;AAAE,WAAOA,MAAM,MAAb;AAAsB,GAFzB;AAGpBJ,WAAS,iBAASI,CAAT,EAAY;AAAE,WAAOC,SAASD,CAAT,EAAY,EAAZ,CAAP;AAAyB,GAH5B;AAIpBH,QAAM,cAASG,CAAT,EAAY;AAAE,WAAOE,WAAWF,CAAX,EAAc,EAAd,CAAP;AAA2B;AAJ3B,CAAtB;;AAOA;;;AAGO,SAASV,UAAT,CAAoBlO,IAApB,EAA0BL,KAA1B,EAAiC;;AAEtC,MAAIoP,YAAYJ,gBAAgB3O,IAAhB,CAAhB;;AAEA,MAAI+O,SAAJ,EAAe;AACb,WAAOA,UAAUpP,KAAV,CAAP;AACD,GAFD,MAEO;AACL,WAAOA,KAAP;AACD;AACF;;AAED;;;AAGO,SAASwO,SAAT,CAAmBnO,IAAnB,EAAyB;AAC9B,SAAO,CAAC,CAACqO,SAASrO,IAAT,CAAT;AACD;;AAED;;;AAGO,SAASoO,QAAT,CAAkBpO,IAAlB,EAAwB;AAC7B,SAAO,CAAC,CAAC2O,gBAAgB3O,IAAhB,CAAT;AACD,C;;;;;;;;;;;;;;;;;AC/CD;;;;;IAKqBgP,U;AAEnB,sBAAYtI,KAAZ,EAAmB;AAAA;;AACjB,SAAKA,KAAL,GAAaA,KAAb;AACD;;AAGD;;;;;;;;;;;;wBAQIyC,M,EAAQrI,I,EAAMnB,K,EAAO;;AAEvB,UAAIwE,WAAW,KAAKuC,KAAL,CAAWuI,qBAAX,CAAiC9F,MAAjC,EAAyCrI,IAAzC,CAAf;;AAEA,UAAIoH,eAAe/D,YAAYA,SAASrD,IAAxC;;AAEA,UAAIoO,YAAYvP,KAAZ,CAAJ,EAAwB;AACtB;AACA;AACA,YAAIwE,QAAJ,EAAc;AACZ,iBAAOgF,OAAOjB,YAAP,CAAP;AACD,SAFD,MAEO;AACL,iBAAOiB,OAAOgG,MAAP,CAAcrO,IAAd,CAAP;AACD;AACF,OARD,MAQO;AACL;AACA;AACA,YAAIqD,QAAJ,EAAc;AACZ,cAAI+D,gBAAgBiB,MAApB,EAA4B;AAC1BA,mBAAOjB,YAAP,IAAuBvI,KAAvB;AACD,WAFD,MAEO;AACLyJ,2BAAeD,MAAf,EAAuBhF,QAAvB,EAAiCxE,KAAjC;AACD;AACF,SAND,MAMO;AACLwJ,iBAAOgG,MAAP,CAAcrO,IAAd,IAAsBnB,KAAtB;AACD;AACF;AACF;;AAED;;;;;;;;;;;wBAQIwJ,M,EAAQrI,I,EAAM;;AAEhB,UAAIqD,WAAW,KAAKuC,KAAL,CAAWuI,qBAAX,CAAiC9F,MAAjC,EAAyCrI,IAAzC,CAAf;;AAEA,UAAI,CAACqD,QAAL,EAAe;AACb,eAAOgF,OAAOgG,MAAP,CAAcrO,IAAd,CAAP;AACD;;AAED,UAAIoH,eAAe/D,SAASrD,IAA5B;;AAEA;AACA,UAAI,CAACqI,OAAOjB,YAAP,CAAD,IAAyB/D,SAAS6C,MAAtC,EAA8C;AAC5CoC,uBAAeD,MAAf,EAAuBhF,QAAvB,EAAiC,EAAjC;AACD;;AAED,aAAOgF,OAAOjB,YAAP,CAAP;AACD;;AAGD;;;;;;;;;;2BAOOiB,M,EAAQrI,I,EAAMsO,O,EAAS;AAC5BlP,aAAOkJ,cAAP,CAAsBD,MAAtB,EAA8BrI,IAA9B,EAAoCsO,OAApC;AACD;;AAGD;;;;;;qCAGiBjG,M,EAAQ5G,U,EAAY;AACnC,WAAKgB,MAAL,CAAY4F,MAAZ,EAAoB,aAApB,EAAmC,EAAExJ,OAAO4C,UAAT,EAAnC;AACD;;AAED;;;;;;gCAGY4G,M,EAAQzC,K,EAAO;AACzB,WAAKnD,MAAL,CAAY4F,MAAZ,EAAoB,QAApB,EAA8B,EAAExJ,OAAO+G,KAAT,EAA9B;AACD;;;;;;AAKH;;kBApGqBsI,U;AAsGrB,SAASE,WAAT,CAAqBtI,GAArB,EAA0B;AACxB,SAAO,OAAOA,GAAP,KAAe,WAAtB;AACD;;AAED,SAASwC,cAAT,CAAwBD,MAAxB,EAAgChF,QAAhC,EAA0CxE,KAA1C,EAAiD;AAC/CO,SAAOkJ,cAAP,CAAsBD,MAAtB,EAA8BhF,SAASrD,IAAvC,EAA6C;AAC3C0C,gBAAY,CAACW,SAASkL,WADqB;AAE3C5L,cAAU,IAFiC;AAG3C9D,WAAOA,KAHoC;AAI3C2P,kBAAc;AAJ6B,GAA7C;AAMD","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Moddle\"] = factory();\n\telse\n\t\troot[\"Moddle\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e647568f07a84440c831","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/isArray.js","import arrayEach from './_arrayEach.js';\nimport baseEach from './_baseEach.js';\nimport castFunction from './_castFunction.js';\nimport isArray from './isArray.js';\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nexport default forEach;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/forEach.js","import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nexport default castPath;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_castPath.js","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/isArrayLike.js","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/isObject.js","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_nativeKeys.js","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_assignValue.js","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/identity.js","/**\n * Parses a namespaced attribute name of the form (ns:)localName to an object,\n * given a default prefix to assume in case no explicit namespace is given.\n *\n * @param {String} name\n * @param {String} [defaultPrefix] the default prefix to take, if none is present.\n *\n * @return {Object} the parsed name\n */\nexport function parseName(name, defaultPrefix) {\n  var parts = name.split(/:/),\n      localName, prefix;\n\n  // no prefix (i.e. only local name)\n  if (parts.length === 1) {\n    localName = name;\n    prefix = defaultPrefix;\n  } else\n  // prefix + local name\n  if (parts.length === 2) {\n    localName = parts[1];\n    prefix = parts[0];\n  } else {\n    throw new Error('expected <prefix:localName> or <localName>, got ' + name);\n  }\n\n  name = (prefix ? prefix + ':' : '') + localName;\n\n  return {\n    name: name,\n    prefix: prefix,\n    localName: localName\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/ns.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_objectToString.js","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/isLength.js","import assignValue from './_assignValue.js';\nimport copyObject from './_copyObject.js';\nimport createAssigner from './_createAssigner.js';\nimport isArrayLike from './isArrayLike.js';\nimport isPrototype from './_isPrototype.js';\nimport keys from './keys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nexport default assign;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/assign.js","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_baseAssignValue.js","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_isIndex.js","export { default } from './moddle';\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","import {\n  isString,\n  isObject,\n  forEach,\n  find\n} from 'lodash-es';\n\nimport Factory from './factory';\nimport Registry from './registry';\nimport Properties from './properties';\n\nimport { parseName as parseNameNs } from './ns';\n\n\n/**\n * @class Moddle\n *\n * A model that can be used to create elements of a specific type.\n *\n * @example\n *\n * var Moddle = require('moddle');\n *\n * var pkg = {\n *   name: 'mypackage',\n *   prefix: 'my',\n *   types: [\n *     { name: 'Root' }\n *   ]\n * };\n *\n * var moddle = new Moddle([pkg]);\n *\n * @param {Array<Package>} packages the packages to contain\n */\nexport default class Moddle {\n\n  constructor(packages) {\n\n    this.properties = new Properties(this);\n\n    this.factory = new Factory(this, this.properties);\n    this.registry = new Registry(packages, this.properties);\n\n    this.typeCache = {};\n  }\n\n\n  /**\n   * Create an instance of the specified type.\n   *\n   * @method Moddle#create\n   *\n   * @example\n   *\n   * var foo = moddle.create('my:Foo');\n   * var bar = moddle.create('my:Bar', { id: 'BAR_1' });\n   *\n   * @param  {String|Object} descriptor the type descriptor or name know to the model\n   * @param  {Object} attrs   a number of attributes to initialize the model instance with\n   * @return {Object}         model instance\n   */\n  create(descriptor, attrs) {\n    var Type = this.getType(descriptor);\n\n    if (!Type) {\n      throw new Error('unknown type <' + descriptor + '>');\n    }\n\n    return new Type(attrs);\n  }\n\n\n  /**\n   * Returns the type representing a given descriptor\n   *\n   * @method Moddle#getType\n   *\n   * @example\n   *\n   * var Foo = moddle.getType('my:Foo');\n   * var foo = new Foo({ 'id' : 'FOO_1' });\n   *\n   * @param  {String|Object} descriptor the type descriptor or name know to the model\n   * @return {Object}         the type representing the descriptor\n   */\n  getType(descriptor) {\n\n    var cache = this.typeCache;\n\n    var name = isString(descriptor) ? descriptor : descriptor.ns.name;\n\n    var type = cache[name];\n\n    if (!type) {\n      descriptor = this.registry.getEffectiveDescriptor(name);\n      type = cache[name] = this.factory.createType(descriptor);\n    }\n\n    return type;\n  }\n\n\n  /**\n   * Creates an any-element type to be used within model instances.\n   *\n   * This can be used to create custom elements that lie outside the meta-model.\n   * The created element contains all the meta-data required to serialize it\n   * as part of meta-model elements.\n   *\n   * @method Moddle#createAny\n   *\n   * @example\n   *\n   * var foo = moddle.createAny('vendor:Foo', 'http://vendor', {\n   *   value: 'bar'\n   * });\n   *\n   * var container = moddle.create('my:Container', 'http://my', {\n   *   any: [ foo ]\n   * });\n   *\n   * // go ahead and serialize the stuff\n   *\n   *\n   * @param  {String} name  the name of the element\n   * @param  {String} nsUri the namespace uri of the element\n   * @param  {Object} [properties] a map of properties to initialize the instance with\n   * @return {Object} the any type instance\n   */\n  createAny(name, nsUri, properties) {\n\n    var nameNs = parseNameNs(name);\n\n    var element = {\n      $type: name\n    };\n\n    var descriptor = {\n      name: name,\n      isGeneric: true,\n      ns: {\n        prefix: nameNs.prefix,\n        localName: nameNs.localName,\n        uri: nsUri\n      }\n    };\n\n    this.properties.defineDescriptor(element, descriptor);\n    this.properties.defineModel(element, this);\n    this.properties.define(element, '$parent', { enumerable: false, writable: true });\n\n    forEach(properties, function(a, key) {\n      if (isObject(a) && a.value !== undefined) {\n        element[a.name] = a.value;\n      } else {\n        element[key] = a;\n      }\n    });\n\n    return element;\n  }\n\n\n  /**\n   * Returns a registered package by uri or prefix\n   *\n   * @return {Object} the package\n   */\n  getPackage(uriOrPrefix) {\n    return this.registry.getPackage(uriOrPrefix);\n  }\n\n  /**\n   * Returns a snapshot of all known packages\n   *\n   * @return {Object} the package\n   */\n  getPackages() {\n    return this.registry.getPackages();\n  }\n\n  /**\n   * Returns the descriptor for an element\n   */\n  getElementDescriptor(element) {\n    return element.$descriptor;\n  }\n\n  /**\n   * Returns true if the given descriptor or instance\n   * represents the given type.\n   *\n   * May be applied to this, if element is omitted.\n   */\n  hasType(element, type) {\n    if (type === undefined) {\n      type = element;\n      element = this;\n    }\n\n    var descriptor = element.$model.getElementDescriptor(element);\n\n    return !!find(descriptor.allTypes, function(t) {\n      return t.name === type;\n    });\n  }\n\n  /**\n   * Returns the descriptor of an elements named property\n   */\n  getPropertyDescriptor(element, property) {\n    return this.getElementDescriptor(element).propertiesByName[property];\n  }\n\n  /**\n   * Returns a mapped type's descriptor\n   */\n  getTypeDescriptor(type) {\n    return this.registry.typeMap[type];\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/moddle.js","import createFind from './_createFind.js';\nimport findIndex from './findIndex.js';\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nexport default find;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/find.js","import baseIteratee from './_baseIteratee.js';\nimport isArrayLike from './isArrayLike.js';\nimport keys from './keys.js';\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nexport default createFind;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_createFind.js","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/isFunction.js","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_overArg.js","import baseFindIndex from './_baseFindIndex.js';\nimport baseIteratee from './_baseIteratee.js';\nimport toInteger from './toInteger.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nexport default findIndex;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/findIndex.js","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseFindIndex;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_baseFindIndex.js","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_arrayEach.js","import baseForOwn from './_baseForOwn.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nexport default baseEach;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_baseEach.js","import baseFor from './_baseFor.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nexport default baseForOwn;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_baseForOwn.js","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_baseFor.js","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_createBaseFor.js","import isArrayLike from './isArrayLike.js';\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nexport default createBaseEach;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_createBaseEach.js","import baseGetTag from './_baseGetTag.js';\nimport isArray from './isArray.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nexport default isString;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/isString.js","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/isObjectLike.js","import {\n  forEach\n} from 'lodash-es';\n\nimport Base from './base';\n\n\nexport default class Factory {\n\n  constructor(model, properties) {\n    this.model = model;\n    this.properties = properties;\n  }\n\n  /**\n   * Create a given type for the specified element descriptor.\n   *\n   * @param  {Object} descriptor\n   *\n   * @return {Function} the type constructor\n   */\n  createType(descriptor) {\n\n    var model = this.model,\n        props = this.properties;\n\n    var name = descriptor.ns.name;\n\n    /**\n     * The new type constructor\n     */\n    class ModdleElement extends Base {\n\n      constructor(attrs) {\n        super();\n\n        props.define(this, '$type', { value: name, enumerable: true });\n        props.define(this, '$attrs', { value: {} });\n        props.define(this, '$parent', { writable: true });\n\n        forEach(attrs, (val, key) => {\n          this.set(key, val);\n        });\n      }\n\n    }\n\n    var proto = ModdleElement.prototype;\n\n    // initialize default values\n    forEach(descriptor.properties, function(p) {\n      if (!p.isMany && p.default !== undefined) {\n        proto[p.name] = p.default;\n      }\n    });\n\n    props.defineModel(proto, model);\n    props.defineDescriptor(proto, descriptor);\n\n    ModdleElement.hasType = proto.$instanceOf = this.model.hasType;\n\n    // static links\n    props.defineModel(ModdleElement, model);\n    props.defineDescriptor(ModdleElement, descriptor);\n\n    return ModdleElement;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/factory.js","\nexport default class Base {\n\n  get(name) {\n    return this.$model.properties.get(this, name);\n  }\n\n  set(name, value) {\n    this.$model.properties.set(this, name, value);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/base.js","import {\n  assign,\n  forEach\n} from 'lodash-es';\n\nimport DescriptorBuilder from './descriptor-builder';\n\nimport { parseName as parseNameNs } from './ns';\nimport { isBuiltIn as isBuiltInType } from './types';\n\n\nexport default class Registry {\n\n  constructor(packages, properties) {\n    this.packageMap = {};\n    this.typeMap = {};\n\n    this.packages = [];\n\n    this.properties = properties;\n\n    forEach(packages, this.registerPackage.bind(this));\n  }\n\n  getPackage(uriOrPrefix) {\n    return this.packageMap[uriOrPrefix];\n  }\n\n  getPackages() {\n    return this.packages;\n  }\n\n  registerPackage(pkg) {\n\n    // copy package\n    pkg = assign({}, pkg);\n\n    // register types\n    forEach(pkg.types, (descriptor) => {\n      this.registerType(descriptor, pkg);\n    });\n\n    this.packageMap[pkg.uri] = this.packageMap[pkg.prefix] = pkg;\n    this.packages.push(pkg);\n  }\n\n  /**\n   * Register a type from a specific package with us\n   */\n  registerType(type, pkg) {\n\n    type = assign({}, type, {\n      superClass: (type.superClass || []).slice(),\n      extends: (type.extends || []).slice(),\n      properties: (type.properties || []).slice(),\n      meta: assign(({}, type.meta || {}))\n    });\n\n    var ns = parseNameNs(type.name, pkg.prefix),\n        name = ns.name,\n        propertiesByName = {};\n\n    // parse properties\n    forEach(type.properties, function(p) {\n\n      // namespace property names\n      var propertyNs = parseNameNs(p.name, ns.prefix),\n          propertyName = propertyNs.name;\n\n      // namespace property types\n      if (!isBuiltInType(p.type)) {\n        p.type = parseNameNs(p.type, propertyNs.prefix).name;\n      }\n\n      assign(p, {\n        ns: propertyNs,\n        name: propertyName\n      });\n\n      propertiesByName[propertyName] = p;\n    });\n\n    // update ns + name\n    assign(type, {\n      ns: ns,\n      name: name,\n      propertiesByName: propertiesByName\n    });\n\n    forEach(type.extends, (extendsName) => {\n      var extended = this.typeMap[extendsName];\n\n      extended.traits = extended.traits || [];\n      extended.traits.push(name);\n    });\n\n    // link to package\n    this.definePackage(type, pkg);\n\n    // register\n    this.typeMap[name] = type;\n  }\n\n\n  /**\n   * Traverse the type hierarchy from bottom to top,\n   * calling iterator with (type, inherited) for all elements in\n   * the inheritance chain.\n   *\n   * @param {Object} nsName\n   * @param {Function} iterator\n   * @param {Boolean} [trait=false]\n   */\n  mapTypes(nsName, iterator, trait) {\n\n    var type = isBuiltInType(nsName.name) ? { name: nsName.name } : this.typeMap[nsName.name];\n\n    /**\n     * Traverse the selected trait.\n     *\n     * @param {String} cls\n     */\n    var traverseTrait = (cls) => {\n      return traverseSuper(cls, true);\n    };\n\n    /**\n     * Traverse the selected super type or trait\n     *\n     * @param {String} cls\n     * @param {Boolean} [trait=false]\n     */\n    var traverseSuper = (cls, trait) => {\n      var parentNs = parseNameNs(cls, isBuiltInType(cls) ? '' : nsName.prefix);\n\n      this.mapTypes(parentNs, iterator, trait);\n    };\n\n    if (!type) {\n      throw new Error('unknown type <' + nsName.name + '>');\n    }\n\n    forEach(type.superClass, trait ? traverseTrait : traverseSuper);\n\n    // call iterator with (type, inherited=!trait)\n    iterator(type, !trait);\n\n    forEach(type.traits, traverseTrait);\n  }\n\n\n  /**\n   * Returns the effective descriptor for a type.\n   *\n   * @param  {String} type the namespaced name (ns:localName) of the type\n   *\n   * @return {Descriptor} the resulting effective descriptor\n   */\n  getEffectiveDescriptor(name) {\n\n    var nsName = parseNameNs(name);\n\n    var builder = new DescriptorBuilder(nsName);\n\n    this.mapTypes(nsName, builder.addTrait.bind(builder));\n\n    var descriptor = builder.build();\n\n    // define package link\n    this.definePackage(descriptor, descriptor.allTypes[descriptor.allTypes.length - 1].$pkg);\n\n    return descriptor;\n  }\n\n\n  definePackage(target, pkg) {\n    this.properties.define(target, '$pkg', { value: pkg });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/registry.js","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_defineProperty.js","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_getValue.js","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/eq.js","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_copyObject.js","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_createAssigner.js","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_baseRest.js","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_overRest.js","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_apply.js","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/stubFalse.js","import {\n  pick,\n  assign,\n  forEach\n} from 'lodash-es';\n\nimport { parseName as parseNameNs } from './ns';\n\n\nexport default class DescriptorBuilder {\n\n  constructor(nameNs) {\n    this.ns = nameNs;\n    this.name = nameNs.name;\n    this.allTypes = [];\n    this.properties = [];\n    this.propertiesByName = {};\n  }\n\n\n  build() {\n    return pick(this, [\n      'ns',\n      'name',\n      'allTypes',\n      'properties',\n      'propertiesByName',\n      'bodyProperty',\n      'idProperty'\n    ]);\n  }\n\n\n  /**\n   * Add property at given index.\n   *\n   * @param {Object} p\n   * @param {Number} [idx]\n   * @param {Boolean} [validate=true]\n   */\n  addProperty(p, idx, validate) {\n\n    if (typeof idx === 'boolean') {\n      validate = idx;\n      idx = undefined;\n    }\n\n    this.addNamedProperty(p, validate !== false);\n\n    var properties = this.properties;\n\n    if (idx !== undefined) {\n      properties.splice(idx, 0, p);\n    } else {\n      properties.push(p);\n    }\n  }\n\n\n  replaceProperty(oldProperty, newProperty, replace) {\n    var oldNameNs = oldProperty.ns;\n\n    var props = this.properties,\n        propertiesByName = this.propertiesByName,\n        rename = oldProperty.name !== newProperty.name;\n\n    if (oldProperty.isId) {\n      if (!newProperty.isId) {\n        throw new Error(\n          'property <' + newProperty.ns.name + '> must be id property ' +\n          'to refine <' + oldProperty.ns.name + '>');\n      }\n\n      this.setIdProperty(newProperty, false);\n    }\n\n    if (oldProperty.isBody) {\n\n      if (!newProperty.isBody) {\n        throw new Error(\n          'property <' + newProperty.ns.name + '> must be body property ' +\n          'to refine <' + oldProperty.ns.name + '>');\n      }\n\n      // TODO: Check compatibility\n      this.setBodyProperty(newProperty, false);\n    }\n\n    // validate existence and get location of old property\n    var idx = props.indexOf(oldProperty);\n    if (idx === -1) {\n      throw new Error('property <' + oldNameNs.name + '> not found in property list');\n    }\n\n    // remove old property\n    props.splice(idx, 1);\n\n    // replacing the named property is intentional\n    //\n    //  * validate only if this is a \"rename\" operation\n    //  * add at specific index unless we \"replace\"\n    //\n    this.addProperty(newProperty, replace ? undefined : idx, rename);\n\n    // make new property available under old name\n    propertiesByName[oldNameNs.name] = propertiesByName[oldNameNs.localName] = newProperty;\n  }\n\n\n  redefineProperty(p, targetPropertyName, replace) {\n\n    var nsPrefix = p.ns.prefix;\n    var parts = targetPropertyName.split('#');\n\n    var name = parseNameNs(parts[0], nsPrefix);\n    var attrName = parseNameNs(parts[1], name.prefix).name;\n\n    var redefinedProperty = this.propertiesByName[attrName];\n    if (!redefinedProperty) {\n      throw new Error('refined property <' + attrName + '> not found');\n    } else {\n      this.replaceProperty(redefinedProperty, p, replace);\n    }\n\n    delete p.redefines;\n  }\n\n\n  addNamedProperty(p, validate) {\n    var ns = p.ns,\n        propsByName = this.propertiesByName;\n\n    if (validate) {\n      this.assertNotDefined(p, ns.name);\n      this.assertNotDefined(p, ns.localName);\n    }\n\n    propsByName[ns.name] = propsByName[ns.localName] = p;\n  }\n\n\n  removeNamedProperty(p) {\n    var ns = p.ns,\n        propsByName = this.propertiesByName;\n\n    delete propsByName[ns.name];\n    delete propsByName[ns.localName];\n  }\n\n\n  setBodyProperty(p, validate) {\n\n    if (validate && this.bodyProperty) {\n      throw new Error(\n        'body property defined multiple times ' +\n        '(<' + this.bodyProperty.ns.name + '>, <' + p.ns.name + '>)');\n    }\n\n    this.bodyProperty = p;\n  }\n\n\n  setIdProperty(p, validate) {\n\n    if (validate && this.idProperty) {\n      throw new Error(\n        'id property defined multiple times ' +\n        '(<' + this.idProperty.ns.name + '>, <' + p.ns.name + '>)');\n    }\n\n    this.idProperty = p;\n  }\n\n\n  assertNotDefined(p, name) {\n    var propertyName = p.name,\n        definedProperty = this.propertiesByName[propertyName];\n\n    if (definedProperty) {\n      throw new Error(\n        'property <' + propertyName + '> already defined; ' +\n        'override of <' + definedProperty.definedBy.ns.name + '#' + definedProperty.ns.name + '> by ' +\n        '<' + p.definedBy.ns.name + '#' + p.ns.name + '> not allowed without redefines');\n    }\n  }\n\n\n  hasProperty(name) {\n    return this.propertiesByName[name];\n  }\n\n\n  addTrait(t, inherited) {\n\n    var allTypes = this.allTypes;\n\n    if (allTypes.indexOf(t) !== -1) {\n      return;\n    }\n\n    forEach(t.properties, (p) => {\n\n      // clone property to allow extensions\n      p = assign({}, p, {\n        name: p.ns.localName,\n        inherited: inherited\n      });\n\n      Object.defineProperty(p, 'definedBy', {\n        value: t\n      });\n\n      var replaces = p.replaces,\n          redefines = p.redefines;\n\n      // add replace/redefine support\n      if (replaces || redefines) {\n        this.redefineProperty(p, replaces || redefines, replaces);\n      } else {\n        if (p.isBody) {\n          this.setBodyProperty(p);\n        }\n        if (p.isId) {\n          this.setIdProperty(p);\n        }\n        this.addProperty(p);\n      }\n    });\n\n    allTypes.push(t);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/descriptor-builder.js","import basePick from './_basePick.js';\nimport flatRest from './_flatRest.js';\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nexport default pick;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/pick.js","import basePickBy from './_basePickBy.js';\nimport hasIn from './hasIn.js';\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nexport default basePick;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_basePick.js","import baseGet from './_baseGet.js';\nimport baseSet from './_baseSet.js';\nimport castPath from './_castPath.js';\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nexport default basePickBy;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_basePickBy.js","import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_baseGet.js","import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_isKey.js","import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_stringToPath.js","import assignValue from './_assignValue.js';\nimport castPath from './_castPath.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nexport default baseSet;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_baseSet.js","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/hasIn.js","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_baseHasIn.js","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash-es/_hasPath.js","/**\n * Built-in moddle types\n */\nvar BUILTINS = {\n  String: true,\n  Boolean: true,\n  Integer: true,\n  Real: true,\n  Element: true\n};\n\n/**\n * Converters for built in types from string representations\n */\nvar TYPE_CONVERTERS = {\n  String: function(s) { return s; },\n  Boolean: function(s) { return s === 'true'; },\n  Integer: function(s) { return parseInt(s, 10); },\n  Real: function(s) { return parseFloat(s, 10); }\n};\n\n/**\n * Convert a type to its real representation\n */\nexport function coerceType(type, value) {\n\n  var converter = TYPE_CONVERTERS[type];\n\n  if (converter) {\n    return converter(value);\n  } else {\n    return value;\n  }\n}\n\n/**\n * Return whether the given type is built-in\n */\nexport function isBuiltIn(type) {\n  return !!BUILTINS[type];\n}\n\n/**\n * Return whether the given type is simple\n */\nexport function isSimple(type) {\n  return !!TYPE_CONVERTERS[type];\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/types.js","/**\n * A utility that gets and sets properties of model elements.\n *\n * @param {Model} model\n */\nexport default class Properties {\n\n  constructor(model) {\n    this.model = model;\n  }\n\n\n  /**\n   * Sets a named property on the target element.\n   * If the value is undefined, the property gets deleted.\n   *\n   * @param {Object} target\n   * @param {String} name\n   * @param {Object} value\n   */\n  set(target, name, value) {\n\n    var property = this.model.getPropertyDescriptor(target, name);\n\n    var propertyName = property && property.name;\n\n    if (isUndefined(value)) {\n      // unset the property, if the specified value is undefined;\n      // delete from $attrs (for extensions) or the target itself\n      if (property) {\n        delete target[propertyName];\n      } else {\n        delete target.$attrs[name];\n      }\n    } else {\n      // set the property, defining well defined properties on the fly\n      // or simply updating them in target.$attrs (for extensions)\n      if (property) {\n        if (propertyName in target) {\n          target[propertyName] = value;\n        } else {\n          defineProperty(target, property, value);\n        }\n      } else {\n        target.$attrs[name] = value;\n      }\n    }\n  }\n\n  /**\n   * Returns the named property of the given element\n   *\n   * @param  {Object} target\n   * @param  {String} name\n   *\n   * @return {Object}\n   */\n  get(target, name) {\n\n    var property = this.model.getPropertyDescriptor(target, name);\n\n    if (!property) {\n      return target.$attrs[name];\n    }\n\n    var propertyName = property.name;\n\n    // check if access to collection property and lazily initialize it\n    if (!target[propertyName] && property.isMany) {\n      defineProperty(target, property, []);\n    }\n\n    return target[propertyName];\n  }\n\n\n  /**\n   * Define a property on the target element\n   *\n   * @param  {Object} target\n   * @param  {String} name\n   * @param  {Object} options\n   */\n  define(target, name, options) {\n    Object.defineProperty(target, name, options);\n  }\n\n\n  /**\n   * Define the descriptor for an element\n   */\n  defineDescriptor(target, descriptor) {\n    this.define(target, '$descriptor', { value: descriptor });\n  }\n\n  /**\n   * Define the model for an element\n   */\n  defineModel(target, model) {\n    this.define(target, '$model', { value: model });\n  }\n\n}\n\n\n///////// helpers //////////////////////////////////////\n\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\nfunction defineProperty(target, property, value) {\n  Object.defineProperty(target, property.name, {\n    enumerable: !property.isReference,\n    writable: true,\n    value: value,\n    configurable: true\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/properties.js"],"sourceRoot":""}